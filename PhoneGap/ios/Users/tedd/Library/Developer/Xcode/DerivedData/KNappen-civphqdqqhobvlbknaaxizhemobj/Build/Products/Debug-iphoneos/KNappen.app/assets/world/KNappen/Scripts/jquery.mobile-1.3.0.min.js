(function(n,t,i){typeof define=="function"&&define.amd?define(["jquery"],function(r){return i(r,n,t),r.mobile}):i(n.jQuery,n,t)})(this,document,function(n,t,i,r){(function(n){n.mobile={}})(n),function(n,t,r){var u={},f,e;n.mobile=n.extend(n.mobile,{version:"1.3.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},window:n(t),document:n(i),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(i){n.type(i)!=="number"&&(i=n.mobile.defaultHomeScroll),n.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,i),n.mobile.document.trigger("silentscroll",{x:0,y:i})},20),setTimeout(function(){n.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:u,nsNormalize:function(t){if(t)return u[t]||(u[t]=n.camelCase(n.mobile.ns+t))},getInheritedTheme:function(n,t){for(var i=n[0],u="",r,f;i;){if(r=i.className||"",r&&(f=/ui-(bar|body|overlay)-([a-z])\b/.exec(r))&&(u=f[2]))break;i=i.parentNode}return u||t||"a"},closestPageData:function(n){return n.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page")},enhanceable:function(n){return this.haveParents(n,"enhance")},hijackable:function(n){return this.haveParents(n,"ajax")},haveParents:function(t,i){var o,f,r,s,e,u,h;if(!n.mobile.ignoreContentEnabled)return t;for(o=t.length,f=n(),u=0;u<o;u++){for(s=t.eq(u),e=!1,r=t[u];r;){if(h=r.getAttribute?r.getAttribute("data-"+n.mobile.ns+i):"",h==="false"){e=!0;break}r=r.parentNode}e||(f=f.add(s))}return f},getScreenHeight:function(){return t.innerHeight||n.mobile.window.height()}},n.mobile),n.fn.jqmData=function(t,i){var u;return typeof t!="undefined"&&(t&&(t=n.mobile.nsNormalize(t)),u=arguments.length<2||i===r?this.data(t):this.data(t,i)),u},n.jqmData=function(t,i,r){var u;return typeof i!="undefined"&&(u=n.data(t,i?n.mobile.nsNormalize(i):i,r)),u},n.fn.jqmRemoveData=function(t){return this.removeData(n.mobile.nsNormalize(t))},n.jqmRemoveData=function(t,i){return n.removeData(t,n.mobile.nsNormalize(i))},n.fn.removeWithDependents=function(){n.removeWithDependents(this)},n.removeWithDependents=function(t){var i=n(t);(i.jqmData("dependents")||n()).remove(),i.remove()},n.fn.addDependents=function(t){n.addDependents(n(this),t)},n.addDependents=function(t,i){var r=n(t).jqmData("dependents")||n();n(t).jqmData("dependents",n.merge(r,i))},n.fn.getEncodedText=function(){return n("<div/>").text(n(this).text()).html()},n.fn.jqmEnhanceable=function(){return n.mobile.enhanceable(this)},n.fn.jqmHijackable=function(){return n.mobile.hijackable(this)},f=n.find,e=/:jqmData\(([^)]*)\)/g,n.find=function(t,i,r,u){return t=t.replace(e,"[data-"+(n.mobile.ns||"")+"$1]"),f.call(this,t,i,r,u)},n.extend(n.find,f),n.find.matches=function(t,i){return n.find(t,null,null,i)},n.find.matchesSelector=function(t,i){return n.find(i,null,null,[t]).length>0}}(n,this),function(n,t){var r=0,i=Array.prototype.slice,u=n.cleanData;n.cleanData=function(t){for(var i=0,r;(r=t[i])!=null;i++)try{n(r).triggerHandler("remove")}catch(f){}u(t)},n.widget=function(t,i,r){var s,f,u,o,e=t.split(".")[0];t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){if(!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,u){n.isFunction(u)&&(r[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},r=function(n){return i.prototype[t].apply(this,n)};return function(){var i=this._super,f=this._superApply,t;return this._super=n,this._superApply=r,t=u.apply(this,arguments),this._super=i,this._superApply=f,t}}())}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix:t},r,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u)},n.widget.extend=function(r){for(var o=i.call(arguments,1),e=0,s=o.length,u,f;e<s;e++)for(u in o[e])f=o[e][u],o[e].hasOwnProperty(u)&&f!==t&&(r[u]=n.isPlainObject(f)?n.isPlainObject(r[u])?n.widget.extend({},r[u],f):n.widget.extend({},f):f);return r},n.widget.bridge=function(r,u){var f=u.prototype.widgetFullName||r;n.fn[r]=function(e){var h=typeof e=="string",o=i.call(arguments,1),s=this;return e=!h&&o.length?n.widget.extend.apply(null,[e].concat(o)):e,h?this.each(function(){var i,u=n.data(this,f);return u?!n.isFunction(u[e])||e.charAt(0)==="_"?n.error("no such method '"+e+"' for "+r+" widget instance"):(i=u[e].apply(u,o),i!==u&&i!==t?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):void 0):n.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+e+"'")}):this.each(function(){var t=n.data(this,f);t?t.option(e||{})._init():n.data(this,f,new u(e,this))}),s}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0],this.element=n(i),this.uuid=r++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=n.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=n(),this.hoverable=n(),this.focusable=n(),i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(i,r){var o=i,u,f,e;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof i=="string")if(o={},u=i.split("."),i=u.shift(),u.length){for(f=o[i]=n.widget.extend({},this.options[i]),e=0;e<u.length-1;e++)f[u[e]]=f[u[e]]||{},f=f[u[e]];if(i=u.pop(),r===t)return f[i]===t?null:f[i];f[i]=r}else{if(r===t)return this.options[i]===t?null:this.options[i];o[i]=r}return this._setOptions(o),this},_setOptions:function(n){var t;for(t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,r){var f,u=this;typeof t!="boolean"&&(r=i,i=t,t=!1),r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget()),n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return(typeof e=="string"?u[e]:e).apply(u,arguments)}typeof e!="string"&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^(\w+)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return(typeof n=="string"?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent,f)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){typeof u=="string"&&(u={effect:u});var o,e=u?u===!0||typeof u=="number"?i:u.effect||i:t;u=u||{},typeof u=="number"&&(u={duration:u}),o=!n.isEmptyObject(u),u.complete=f,u.delay&&r.delay(u.delay),o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t](),f&&f.call(r[0]),i()})}})}(n),function(n,t){n.widget("mobile.widget",{_createWidget:function(){n.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var r=this.element,i={};return n.each(this.options,function(n){var u=r.jqmData(n.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}));u!==t&&(i[n]=u)}),i},enhanceWithin:function(t,i){this.enhance(n(this.options.initSelector,n(t)),i)},enhance:function(t,i){var u,f,r=n(t),e=this;r=n.mobile.enhanceable(r),i&&r.length&&(u=n.mobile.closestPageData(r),f=u&&u.keepNativeSelector()||"",r=r.not(f)),r[this.widgetName]()},raise:function(n){throw"Widget ["+this.widgetName+"]: "+n;}})}(n),function(n){n.extend(n.mobile,{loadingMessageTextVisible:r,loadingMessageTheme:r,loadingMessage:r,showPageLoadingMsg:function(t,i,r){n.mobile.loading("show",t,i,r)},hidePageLoadingMsg:function(){n.mobile.loading("hide")},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,arguments)}});var i="ui-loader",u=n("html"),t=n.mobile.window;n.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+i+"'><span class='ui-icon ui-icon-loading'><\/span><h1><\/h1><\/div>",fakeFixLoader:function(){var i=n("."+n.mobile.activeBtnClass).first();this.element.css({top:n.support.scrollTop&&t.scrollTop()+t.height()/2||i.length&&i.offset().top||100})},checkLoaderPosition:function(){var i=this.element.offset(),r=t.scrollTop(),u=n.mobile.getScreenHeight();(i.top<r||i.top-r>u)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),t.unbind("scroll",this.checkLoaderPosition).bind("scroll",n.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(n(this.defaultHtml).html())},show:function(f,e,o){var h,c,s;this.resetHtml(),n.type(f)==="object"?(s=n.extend({},this.options,f),f=s.theme||n.mobile.loadingMessageTheme):(s=this.options,f=f||n.mobile.loadingMessageTheme||s.theme),c=e||n.mobile.loadingMessage||s.text,u.addClass("ui-loading"),(n.mobile.loadingMessage!==!1||s.html)&&(h=n.mobile.loadingMessageTextVisible!==r?n.mobile.loadingMessageTextVisible:s.textVisible,this.element.attr("class",i+" ui-corner-all ui-body-"+f+" ui-loader-"+(h||e||f.text?"verbose":"default")+(s.textonly||o?" ui-loader-textonly":"")),s.html?this.element.html(s.html):this.element.find("h1").text(c),this.element.appendTo(n.mobile.pageContainer),this.checkLoaderPosition(),t.bind("scroll",n.proxy(this.checkLoaderPosition,this)))},hide:function(){u.removeClass("ui-loading"),n.mobile.loadingMessage&&this.element.removeClass("ui-loader-fakefix"),n.mobile.window.unbind("scroll",this.fakeFixLoader),n.mobile.window.unbind("scroll",this.checkLoaderPosition)}}),t.bind("pagecontainercreate",function(){n.mobile.loaderWidget=n.mobile.loaderWidget||n(n.mobile.loader.prototype.defaultHtml).loader()})}(n,this),function(n,t,r){function f(n){return n=n||location.href,"#"+n.replace(/^[^#]*#?(.*)$/,"$1")}var u="hashchange",e=i,o,h=n.event.special,c=e.documentMode,s="on"+u in t&&(c===r||c>7);n.fn[u]=function(n){return n?this.bind(u,n):this.trigger(u)},n.fn[u].delay=50,h[u]=n.extend(h[u],{setup:function(){if(s)return!1;n(o.start)},teardown:function(){if(s)return!1;n(o.stop)}}),o=function(){function a(){var r=f(),i=v(h);r!==h?(l(h=r,i),n(t).trigger(u)):i!==h&&(location.href=location.href.replace(/#.*/,"")+i),o=setTimeout(a,n.fn[u].delay)}var i={},o,h=f(),c=function(n){return n},l=c,v=c;return i.start=function(){o||a()},i.stop=function(){o&&clearTimeout(o),o=r},!t.attachEvent||t.addEventListener||s||function(){var t,r;i.start=function(){t||(r=n.fn[u].src,r=r&&r+f(),t=n('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||l(f()),a()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow,e.onpropertychange=function(){try{event.propertyName==="title"&&(t.document.title=e.title)}catch(n){}})},i.stop=c,v=function(){return f(t.location.href)},l=function(i,r){var f=t.document,o=n.fn[u].domain;i!==r&&(f.title=e.title,f.open(),o&&f.write('<script>document.domain="'+o+'"<\/script>'),f.close(),t.location.hash=i)}}(),i}()}(n,this),function(n){t.matchMedia=t.matchMedia||function(n){var u,i=n.documentElement,f=i.firstElementChild||i.firstChild,r=n.createElement("body"),t=n.createElement("div");return t.id="mq-test-1",t.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(t),function(n){return t.innerHTML='&shy;<style media="'+n+'"> #mq-test-1 { width: 42px; }<\/style>',i.insertBefore(r,f),u=t.offsetWidth===42,i.removeChild(r),{matches:u,media:n}}}(i),n.mobile.media=function(n){return t.matchMedia(n).matches}}(n),function(n){var t={touch:"ontouchend"in i};n.mobile.support=n.mobile.support||{},n.extend(n.support,t),n.extend(n.mobile.support,t)}(n),function(n){n.extend(n.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(n),function(n,r){function f(n){var t=n.charAt(0).toUpperCase()+n.substr(1),i=(n+" "+e.join(t+" ")+t).split(" "),u;for(u in i)if(h[i[u]]!==r)return!0}function v(n,t,r){for(var f=i.createElement("div"),o=function(n){return n.charAt(0).toUpperCase()+n.substr(1)},c=function(n){return n===""?"":"-"+n.charAt(0).toLowerCase()+n.substr(1)+"-"},l=function(i){var u=c(i)+n+": "+t+";",r=o(i),e=r+(r===""?n:o(n));f.setAttribute("style",u),!f.style[e]||(h=!0)},s=r?r:e,h,u=0;u<s.length;u++)l(s[u]);return!!h}function y(){var h="transform-3d",f=n.mobile.media("(-"+e.join("-"+h+"),(-")+"-"+h+"),("+h+")"),o,c,s;if(f)return!!f;o=i.createElement("div"),c={MozTransform:"-moz-transform",transform:"transform"},u.append(o);for(s in c)o.style[s]!==r&&(o.style[s]="translate3d( 100px, 1px, 1px )",f=t.getComputedStyle(o).getPropertyValue(c[s]));return!!f&&f!=="none"}function p(){var r=location.protocol+"//"+location.host+location.pathname+"ui-dir/",t=n("head base"),i=null,f="",e,o;return t.length?f=t.attr("href"):t=i=n("<base>",{href:r}).appendTo("head"),e=n("<a href='testurl' />").prependTo(u),o=e[0].href,t[0].href=f||location.pathname,i&&i.remove(),o.indexOf(r)===0}function w(){var n=i.createElement("x"),r=i.documentElement,u=t.getComputedStyle,f;return("pointerEvents"in n.style)?(n.style.pointerEvents="auto",n.style.pointerEvents="x",r.appendChild(n),f=u&&u(n,"").pointerEvents==="auto",r.removeChild(n),!!f):!1}function b(){var n=i.createElement("div");return typeof n.getBoundingClientRect!="undefined"}function k(){var f=t,n=navigator.userAgent,r=navigator.platform,e=n.match(/AppleWebKit\/([0-9]+)/),i=!!e&&e[1],o=n.match(/Fennec\/([0-9]+)/),s=!!o&&o[1],u=n.match(/Opera Mobi\/([0-9]+)/),h=!!u&&u[1];return(r.indexOf("iPhone")>-1||r.indexOf("iPad")>-1||r.indexOf("iPod")>-1)&&i&&i<534||f.operamini&&{}.toString.call(f.operamini)==="[object OperaMini]"||u&&h<7458||n.indexOf("Android")>-1&&i&&i<533||s&&s<6||"palmGetResource"in t&&i&&i<534||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var u=n("<body>").prependTo("html"),h=u[0].style,e=["Webkit","Moz","O"],c="palmGetResource"in t,l=t.opera,s=t.operamini&&{}.toString.call(t.operamini)==="[object OperaMini]",a=t.blackberry&&!f("-webkit-transform"),o;n.extend(n.mobile,{browser:{}}),n.mobile.browser.oldIE=function(){var n=3,t=i.createElement("div"),r=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++n+"]><br><![endif]-->";while(r[0]);return n>4?n:!n}(),n.extend(n.support,{cssTransitions:"WebKitTransitionEvent"in t||v("transition","height 100ms linear",["Webkit","Moz",""])&&!n.mobile.browser.oldIE&&!l,pushState:"pushState"in history&&"replaceState"in history&&t.navigator.userAgent.search(/CriOS/)===-1,mediaquery:n.mobile.media("only all"),cssPseudoElement:!!f("content"),touchOverflow:!!f("overflowScrolling"),cssTransform3d:y(),boxShadow:!!f("boxShadow")&&!a,fixedPosition:k(),scrollTop:("pageXOffset"in t||"scrollTop"in i.documentElement||"scrollTop"in u[0])&&!c&&!s,dynamicBaseTag:p(),cssPointerEvents:w(),boundingRect:b()}),u.remove(),o=function(){var n=t.navigator.userAgent;return n.indexOf("Nokia")>-1&&(n.indexOf("Symbian/3")>-1||n.indexOf("Series60/5")>-1)&&n.indexOf("AppleWebKit")>-1&&n.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),n.mobile.gradeA=function(){return(n.support.mediaquery||n.mobile.browser.oldIE&&n.mobile.browser.oldIE>=7)&&(n.support.boundingRect||n.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/)!==null)},n.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||s||o,o&&n(function(){n("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),n.support.boxShadow||n("html").addClass("ui-mobile-nosupport-boxshadow")}(n),function(n,t){var r=n.mobile.window,i;n.event.special.navigate=i={bound:!1,pushStateEnabled:!0,originalEventName:t,isPushStateEnabled:function(){return n.support.pushState&&n.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return n.mobile.hashListeningEnabled===!0},popstate:function(t){var i=new n.Event("navigate"),u=new n.Event("beforenavigate"),f=t.originalEvent.state||{},e=location.href;(r.trigger(u),u.isDefaultPrevented())||(t.historyState&&n.extend(f,t.historyState),i.originalEvent=t,setTimeout(function(){r.trigger(i,{state:f})},0))},hashchange:function(t){var i=new n.Event("navigate"),u=new n.Event("beforenavigate");(r.trigger(u),u.isDefaultPrevented())||(i.originalEvent=t,r.trigger(i,{state:t.hashchangeState||{}}))},setup:function(){i.bound||(i.bound=!0,i.isPushStateEnabled()?(i.originalEventName="popstate",r.bind("popstate.navigate",i.popstate)):i.isHashChangeEnabled()&&(i.originalEventName="hashchange",r.bind("hashchange.navigate",i.hashchange)))}}}(n),function(n,i){var r,u,f="&ui-state=dialog";n.mobile.path=r={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(n){var t=n?this.parseUrl(n):location,i=this.parseUrl(n||location.href).hash;return i=i==="#"?"":i,t.protocol+"//"+t.host+t.pathname+t.search+i},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if(n.type(t)==="object")return t;var i=r.urlParseRE.exec(t||"")||[];return{href:i[0]||"",hrefNoHash:i[1]||"",hrefNoSearch:i[2]||"",domain:i[3]||"",protocol:i[4]||"",doubleSlash:i[5]||"",authority:i[6]||"",username:i[8]||"",password:i[9]||"",host:i[10]||"",hostname:i[11]||"",port:i[12]||"",pathname:i[13]||"",directory:i[14]||"",filename:i[15]||"",search:i[16]||"",hash:i[17]||""}},makePathAbsolute:function(n,t){var i,u,r,f;if(n&&n.charAt(0)==="/")return n;for(n=n||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",i=t?t.split("/"):[],u=n.split("/"),r=0;r<u.length;r++){f=u[r];switch(f){case".":break;case"..":i.length&&i.pop();break;default:i.push(f)}}return"/"+i.join("/")},isSameDomain:function(n,t){return r.parseUrl(n).domain===r.parseUrl(t).domain},isRelativeUrl:function(n){return r.parseUrl(n).protocol===""},isAbsoluteUrl:function(n){return r.parseUrl(n).protocol!==""},makeUrlAbsolute:function(n,t){if(!r.isRelativeUrl(n))return n;t===i&&(t=this.documentBase);var u=r.parseUrl(n),f=r.parseUrl(t),e=u.protocol||f.protocol,o=u.protocol?u.doubleSlash:u.doubleSlash||f.doubleSlash,s=u.authority||f.authority,h=u.pathname!=="",c=r.makePathAbsolute(u.pathname||f.filename,f.pathname),l=u.search||!h&&f.search||"",a=u.hash;return e+o+s+c+l+a},addSearchParams:function(t,i){var u=r.parseUrl(t),e=typeof i=="object"?n.param(i):i,f=u.search||"?";return u.hrefNoSearch+f+(f.charAt(f.length-1)!=="?"?"&":"")+e+(u.hash||"")},convertUrlToDataUrl:function(n){var i=r.parseUrl(n);return r.isEmbeddedPage(i)?i.hash.split(f)[0].replace(/^#/,"").replace(/\?.*$/,""):r.isSameDomain(i,this.documentBase)?i.hrefNoHash.replace(this.documentBase.domain,"").split(f)[0]:t.decodeURIComponent(n)},get:function(n){return n===i&&(n=r.parseLocation().hash),r.stripHash(n).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(n){location.hash=n},isPath:function(n){return/\//.test(n)},clean:function(n){return n.replace(this.documentBase.domain,"")},stripHash:function(n){return n.replace(/^#/,"")},stripQueryParams:function(n){return n.replace(/\?.*$/,"")},cleanHash:function(n){return r.stripHash(n.replace(/\?.*$/,"").replace(f,""))},isHashValid:function(n){return/^#[^#]+$/.test(n)},isExternal:function(n){var t=r.parseUrl(n);return t.protocol&&t.domain!==this.documentUrl.domain?!0:!1},hasProtocol:function(n){return/^(:?\w+:)/.test(n)},isEmbeddedPage:function(n){var t=r.parseUrl(n);return t.protocol!==""?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(n,t){var i,f,h,o,c=this.isPath(n),s=this.parseUrl(n),u=s.hash,e="";return t=t||(r.isPath(n)?r.getLocation():r.getDocumentUrl()),f=c?r.stripHash(n):n,f=r.isPath(s.hash)?r.stripHash(s.hash):f,o=f.indexOf(this.uiStateKey),o>-1&&(e=f.slice(o),f=f.slice(0,o)),i=r.makeUrlAbsolute(f,t),h=this.parseUrl(i).search,c?((r.isPath(u)||u.replace("#","").indexOf(this.uiStateKey)===0)&&(u=""),e&&u.indexOf(this.uiStateKey)===-1&&(u+=e),u.indexOf("#")===-1&&u!==""&&(u="#"+u),i=r.parseUrl(i),i=i.protocol+"//"+i.host+i.pathname+h+u):i+=i.indexOf("#")>-1?e:"#"+e,i},isPreservableHash:function(n){return n.replace("#","").indexOf(this.uiStateKey)===0}},r.documentUrl=r.parseLocation(),u=n("head").find("base"),r.documentBase=u.length?r.parseUrl(r.makeUrlAbsolute(u.attr("href"),r.documentUrl.href)):r.documentUrl,r.documentBaseDiffers=r.documentUrl.hrefNoHash!==r.documentBase.hrefNoHash,r.getDocumentUrl=function(t){return t?n.extend({},r.documentUrl):r.documentUrl.href},r.getDocumentBase=function(t){return t?n.extend({},r.documentBase):r.documentBase.href}}(n),function(n,t){var i=n.mobile.path;n.mobile.History=function(n,t){this.stack=n||[],this.activeIndex=t||0},n.extend(n.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(n,t){t=t||{},this.getNext()&&this.clearForward(),t.hash&&t.hash.indexOf("#")===-1&&(t.hash="#"+t.hash),t.url=n,this.stack.push(t),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(n,t,i){t=t||this.stack;for(var u,e=t.length,f,r=0;r<e;r++)if(u=t[r],(decodeURIComponent(n)===decodeURIComponent(u.url)||decodeURIComponent(n)===decodeURIComponent(u.hash))&&(f=r,i))return f;return f},closest:function(n){var i,r=this.activeIndex;return i=this.find(n,this.stack.slice(0,r)),i===t&&(i=this.find(n,this.stack.slice(r),!0),i=i===t?i:i+r),i},direct:function(i){var r=this.closest(i.url),u=this.activeIndex;r!==t&&(this.activeIndex=r,this.previousIndex=u),r<u?(i.present||i.back||n.noop)(this.getActive(),"back"):r>u?(i.present||i.forward||n.noop)(this.getActive(),"forward"):r===t&&i.missing&&i.missing(this.getActive())}})}(n),function(n){var r=n.mobile.path;n.mobile.Navigator=function(t){this.history=t,this.ignoreInitialHashChange=!0,setTimeout(n.proxy(function(){this.ignoreInitialHashChange=!1},this),200),n.mobile.window.bind({"popstate.history":n.proxy(this.popstate,this),"hashchange.history":n.proxy(this.hashchange,this)})},n.extend(n.mobile.Navigator.prototype,{squash:function(u,f){var e,o,s=r.isPath(u)?r.stripHash(u):u;return o=r.squash(u),e=n.extend({hash:s,url:o},f),t.history.replaceState(e,e.title||i.title,o),e},hash:function(n,t){var i,e,f,u;return i=r.parseUrl(n),e=r.parseLocation(),e.pathname+e.search===i.pathname+i.search?f=i.hash?i.hash:i.pathname+i.search:r.isPath(n)?(u=r.parseUrl(t),f=u.pathname+u.search+(r.isPreservableHash(u.hash)?u.hash.replace("#",""):"")):f=n,f},go:function(u,f,e){var o,h,s,c,l=n.event.special.navigate.isPushStateEnabled();h=r.squash(u),s=this.hash(u,h),e&&s!==r.stripHash(r.parseLocation().hash)&&(this.preventNextHashChange=e),this.preventHashAssignPopState=!0,t.location.hash=s,this.preventHashAssignPopState=!1,o=n.extend({url:h,hash:s,title:i.title},f),l&&(c=new n.Event("popstate"),c.originalEvent={type:"popstate",state:null},this.squash(u,o),e||(this.ignorePopState=!0,n.mobile.window.trigger(c))),this.history.add(o.url,o)},popstate:function(t){var i,u;if(n.event.special.navigate.isPushStateEnabled()){if(this.preventHashAssignPopState){this.preventHashAssignPopState=!1,t.stopImmediatePropagation();return}if(this.ignorePopState){this.ignorePopState=!1;return}if(!t.originalEvent.state&&this.history.stack.length===1&&this.ignoreInitialHashChange){this.ignoreInitialHashChange=!1;return}if(i=r.parseLocation().hash,!t.originalEvent.state&&i){u=this.squash(i),this.history.add(u.url,u),t.historyState=u;return}this.history.direct({url:(t.originalEvent.state||{}).url||i,present:function(i,r){t.historyState=n.extend({},i),t.historyState.direction=r}})}},hashchange:function(t){var f,u;if(n.event.special.navigate.isHashChangeEnabled()&&!n.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange){this.preventNextHashChange=!1,t.stopImmediatePropagation();return}f=this.history,u=r.parseLocation().hash,this.history.direct({url:u,present:function(i,r){t.hashchangeState=n.extend({},i),t.hashchangeState.direction=r},missing:function(){f.add(u,{hash:u,title:i.title})}})}}})}(n),function(n){n.mobile.navigate=function(t,i,r){n.mobile.navigate.navigator.go(t,i,r)},n.mobile.navigate.history=new n.mobile.History,n.mobile.navigate.navigator=new n.mobile.Navigator(n.mobile.navigate.history);var t=n.mobile.path.parseLocation();n.mobile.navigate.history.add(t.href,{hash:t.hash})}(n),function(n,t,i,r){function l(n){while(n&&typeof n.originalEvent!="undefined")n=n.originalEvent;return n}function wt(t,i){var u=t.type,e,o,c,f,s,a,v,h,y;if(t=n.Event(t),t.type=i,e=t.originalEvent,o=n.event.props,u.search(/^(mouse|click)/)>-1&&(o=yt),e)for(v=o.length,f;v;)f=o[--v],t[f]=e[f];if(u.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),u.search(/^touch/)!==-1&&(c=l(e),u=c.touches,s=c.changedTouches,a=u&&u.length?u[0]:s&&s.length?s[0]:r,a))for(h=0,y=tt.length;h<y;h++)f=tt[h],t[f]=a[f];return t}function p(t){for(var i={},r,u;t;){r=n.data(t,o);for(u in r)r[u]&&(i[u]=i.hasVirtualBinding=!0);t=t.parentNode}return i}function bt(t,i){for(var r;t;){if(r=n.data(t,o),r&&(!i||r[i]))return t;t=t.parentNode}return null}function kt(){c=!1}function ut(){c=!0}function dt(){s=0,v.length=0,k=!1,ut()}function gt(){kt()}function nt(){ft(),h=setTimeout(function(){h=0,dt()},n.vmouse.resetTimerDuration)}function ft(){h&&(clearTimeout(h),h=0)}function e(t,i,r){var u;return(r&&r[t]||!r&&bt(i.target,t))&&(u=wt(i,t),n(i.target).trigger(u)),u}function et(t){var r=n.data(t.target,w),i;k||s&&s===r||(i=e("v"+t.type,t),i&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function ot(t){var o=l(t).touches,r,i,u;o&&o.length===1&&(r=t.target,i=p(r),i.hasVirtualBinding&&(s=pt++,n.data(r,w,s),ft(),gt(),f=!1,u=l(t).touches[0],it=u.pageX,rt=u.pageY,e("vmouseover",t,i),e("vmousedown",t,i)))}function st(n){c||(f||e("vmousecancel",n,p(n.target)),f=!0,nt())}function ht(t){if(!c){var i=l(t).touches[0],o=f,r=n.vmouse.moveDistanceThreshold,u=p(t.target);f=f||Math.abs(i.pageX-it)>r||Math.abs(i.pageY-rt)>r,f&&!o&&e("vmousecancel",t,u),e("vmousemove",t,u),nt()}}function ct(n){var t,i,r;c||(ut(),t=p(n.target),e("vmouseup",n,t),f||(r=e("vclick",n,t),r&&r.isDefaultPrevented()&&(i=l(n).changedTouches[0],v.push({touchID:s,x:i.clientX,y:i.clientY}),k=!0)),e("vmouseout",n,t),f=!1,nt())}function lt(t){var i=n.data(t,o),r;if(i)for(r in i)if(i[r])return!0;return!1}function at(){}function ni(t){var i=t.substr(1);return{setup:function(){lt(this)||n.data(this,o,{});var r=n.data(this,o);r[t]=!0,u[t]=(u[t]||0)+1,u[t]===1&&y.bind(i,et),n(this).bind(i,at),d&&(u.touchstart=(u.touchstart||0)+1,u.touchstart===1&&y.bind("touchstart",ot).bind("touchend",ct).bind("touchmove",ht).bind("scroll",st))},teardown:function(){--u[t],u[t]||y.unbind(i,et),d&&(--u.touchstart,u.touchstart||y.unbind("touchstart",ot).unbind("touchmove",ht).unbind("touchend",ct).unbind("scroll",st));var r=n(this),f=n.data(this,o);f&&(f[t]=!1),r.unbind(i,at),lt(this)||r.removeData(o)}}}var o="virtualMouseBindings",w="virtualTouchID",b="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),tt="clientX clientY pageX pageY screenX screenY".split(" "),vt=n.event.mouseHooks?n.event.mouseHooks.props:[],yt=n.event.props.concat(vt),u={},h=0,it=0,rt=0,f=!1,v=[],k=!1,c=!1,d="addEventListener"in i,y=n(i),pt=1,s=0,g,a;for(n.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},a=0;a<b.length;a++)n.event.special[b[a]]=ni(b[a]);d&&i.addEventListener("click",function(t){var f=v.length,e=t.target,o,s,i,r,u,h;if(f)for(o=t.clientX,s=t.clientY,g=n.vmouse.clickDistanceThreshold,i=e;i;){for(r=0;r<f;r++)if(u=v[r],h=0,i===e&&Math.abs(u.x-o)<g&&Math.abs(u.y-s)<g||n.data(i,w)===u.touchID){t.preventDefault(),t.stopPropagation();return}i=i.parentNode}},!0)}(n,t,i),function(n,t,r){function f(t,i,r){var u=r.type;r.type=i,n.event.dispatch.call(t,r),r.type=u}var e=n(i);n.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,i){n.fn[i]=function(n){return n?this.bind(i,n):this.trigger(i)},n.attrFn&&(n.attrFn[i]=!0)});var u=n.mobile.support.touch,s="touchmove scroll",h=u?"touchstart":"mousedown",c=u?"touchend":"mouseup",o=u?"touchmove":"mousemove";n.event.special.scrollstart={enabled:!0,setup:function(){function u(n,r){t=r,f(i,t?"scrollstart":"scrollstop",n)}var i=this,e=n(i),t,r;e.bind(s,function(i){n.event.special.scrollstart.enabled&&(t||u(i,!0),clearTimeout(r),r=setTimeout(function(){u(i,!1)},50))})}},n.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,i=n(t);i.bind("vmousedown",function(r){function u(){clearTimeout(h)}function o(){u(),i.unbind("vclick",c).unbind("vmouseup",u),e.unbind("vmousecancel",o)}function c(n){o(),s===n.target&&f(t,"tap",n)}if(r.which&&r.which!==1)return!1;var s=r.target,l=r.originalEvent,h;i.bind("vmouseup",u).bind("vclick",c),e.bind("vmousecancel",o),h=setTimeout(function(){f(t,"taphold",n.Event("taphold",{target:s}))},n.event.special.tap.tapholdThreshold)})}},n.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[i.pageX,i.pageY],origin:n(t.target)}},stop:function(n){var t=n.originalEvent.touches?n.originalEvent.touches[0]:n;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,i){i.time-t.time<n.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-i.coords[0])>n.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-i.coords[1])<n.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>i.coords[0]?"swipeleft":"swiperight")},setup:function(){var i=this,t=n(i);t.bind(h,function(i){function e(t){u&&(f=n.event.special.swipe.stop(t),Math.abs(u.coords[0]-f.coords[0])>n.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())}var u=n.event.special.swipe.start(i),f;t.bind(o,e).one(c,function(){t.unbind(o,e),u&&f&&n.event.special.swipe.handleSwipe(u,f),u=f=r})})}},n.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,i){n.event.special[t]={setup:function(){n(this).bind(i,n.noop)}}})}(n,this),function(n){n.event.special.throttledresize={setup:function(){n(this).bind("resize",t)},teardown:function(){n(this).unbind("resize",t)}};var f=250,t=function(){r=(new Date).getTime(),u=r-e,u>=f?(e=r,n(this).trigger("throttledresize")):(i&&clearTimeout(i),i=setTimeout(t,f-u))},e=0,i,r,u}(n),function(n,t){function a(){var n=f();n!==e&&(e=n,r.trigger(u))}var r=n(t),u="orientationchange",f,e,o,s,h={"0":!0,"180":!0};if(n.support.orientation){var c=t.innerWidth||r.width(),l=t.innerHeight||r.height();o=c>l&&c-l>50,s=h[t.orientation],(o&&s||!o&&!s)&&(h={"-90":!0,"90":!0})}n.event.special.orientationchange=n.extend({},n.event.special.orientationchange,{setup:function(){if(n.support.orientation&&!n.event.special.orientationchange.disabled)return!1;e=f(),r.bind("throttledresize",a)},teardown:function(){if(n.support.orientation&&!n.event.special.orientationchange.disabled)return!1;r.unbind("throttledresize",a)},add:function(n){var t=n.handler;n.handler=function(n){return n.orientation=f(),t.apply(this,arguments)}}}),n.event.special.orientationchange.orientation=f=function(){var u=!0,r=i.documentElement;return u=n.support.orientation?h[t.orientation]:r&&r.clientWidth/r.clientHeight<1.1,u?"portrait":"landscape"},n.fn[u]=function(n){return n?this.bind(u,n):this.trigger(u)},n.attrFn&&(n.attrFn[u]=!0)}(n,this),function(n){n.widget("mobile.page",n.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){if(this._trigger("beforecreate")===!1)return!1;this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"})},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){n.mobile.pageContainer.removeClass("ui-overlay-"+n.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(t){this.options.theme&&n.mobile.pageContainer.addClass("ui-overlay-"+(t||this.options.theme))},keepNativeSelector:function(){var t=this.options,i=t.keepNative&&n.trim(t.keepNative);return i&&t.keepNative!==t.keepNativeDefault?[t.keepNative,t.keepNativeDefault].join(", "):t.keepNativeDefault}})}(n),function(n,t,i){var r=function(r){return r===i&&(r=!0),function(i,u,f,e){var c=new n.Deferred,l=u?" reverse":"",k=n.mobile.urlHistory.getActive(),o=k.lastScroll||n.mobile.defaultHomeScroll,a=n.mobile.getScreenHeight(),d=n.mobile.maxTransitionWidth!==!1&&n.mobile.window.width()>n.mobile.maxTransitionWidth,s=!n.support.cssTransitions||d||!i||i==="none"||Math.max(n.mobile.window.scrollTop(),o)>n.mobile.getMaxScrollForTransition(),v=" ui-page-pre-in",y=function(){n.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+i)},p=function(){n.event.special.scrollstart.enabled=!1,t.scrollTo(0,o),setTimeout(function(){n.event.special.scrollstart.enabled=!0},150)},w=function(){e.removeClass(n.mobile.activePageClass+" out in reverse "+i).height("")},g=function(){r?e.animationComplete(h):h(),e.height(a+n.mobile.window.scrollTop()).addClass(i+" out"+l)},h=function(){e&&r&&w(),nt()},nt=function(){f.css("z-index",-10),f.addClass(n.mobile.activePageClass+v),n.mobile.focusPage(f),f.height(a+o),p(),f.css("z-index",""),s||f.animationComplete(b),f.removeClass(v).addClass(i+" in"+l),s&&b()},b=function(){r||e&&w(),f.removeClass("out in reverse "+i).height(""),y(),n.mobile.window.scrollTop()!==o&&p(),c.resolve(i,u,f,e,!0)};return y(),e&&!s?g():h(),c.promise()}},u=r(),f=r(!1),e=function(){return n.mobile.getScreenHeight()*3};n.mobile.defaultTransitionHandler=u,n.mobile.transitionHandlers={"default":n.mobile.defaultTransitionHandler,sequential:u,simultaneous:f},n.mobile.transitionFallbacks={},n.mobile._maybeDegradeTransition=function(t){return t&&!n.support.cssTransform3d&&n.mobile.transitionFallbacks[t]&&(t=n.mobile.transitionFallbacks[t]),t},n.mobile.getMaxScrollForTransition=n.mobile.getMaxScrollForTransition||e}(n,this),function(n,r){function p(t){!c||c.closest("."+n.mobile.activePageClass).length&&!t||c.removeClass(n.mobile.activeBtnClass),c=null}function it(){l=!1,k.length>0&&n.mobile.changePage.apply(null,k.pop())}function ot(t,i,r,u){i&&i.data("mobile-page")._trigger("beforehide",null,{nextPage:t}),t.data("mobile-page")._trigger("beforeshow",null,{prevPage:i||n("")}),n.mobile.hidePageLoadingMsg(),r=n.mobile._maybeDegradeTransition(r);var e=n.mobile.transitionHandlers[r||"default"]||n.mobile.defaultTransitionHandler,f=e(r,u,t,i);return f.done(function(){i&&i.data("mobile-page")._trigger("hide",null,{nextPage:t}),t.data("mobile-page")._trigger("show",null,{prevPage:i||n("")})}),f}function d(t,i){i&&t.attr("data-"+n.mobile.ns+"role",i),t.page()}function ut(){var t=n.mobile.activePage&&b(n.mobile.activePage);return t||h.hrefNoHash}function ft(n){while(n){if(typeof n.nodeName=="string"&&n.nodeName.toLowerCase()==="a")break;n=n.parentNode}return n}function b(t){var i=n(t).closest(".ui-page").jqmData("url"),r=h.hrefNoHash;return i&&u.isPath(i)||(i=r),u.makeUrlAbsolute(i,r)}var o=n.mobile.window,st=n("html"),g=n("head"),u=n.extend(n.mobile.path,{getFilePath:function(t){var i="&"+n.mobile.subPageUrlKey;return t&&t.split(i)[0].split(s)[0]},isFirstPageUrl:function(t){var i=u.parseUrl(u.makeUrlAbsolute(t,this.documentBase)),o=i.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&i.hrefNoHash===this.documentBase.hrefNoHash,f=n.mobile.firstPage,e=f&&f[0]?f[0].id:r;return o&&(!i.hash||i.hash==="#"||e&&i.hash.replace(/^#/,"")===e)},isPermittedCrossDomainRequest:function(t,i){return n.mobile.allowCrossDomainPages&&t.protocol==="file:"&&i.search(/^https?:/)!==-1}}),v=null,c=null,nt=n.Deferred(),f=n.mobile.navigate.history,k=[],l=!1,s="&ui-state=dialog",tt=g.children("base"),a=u.documentUrl,h=u.documentBase,ht=u.documentBaseDiffers,et=n.mobile.getScreenHeight,e=n.support.dynamicBaseTag?{element:tt.length?tt:n("<base>",{href:h.hrefNoHash}).prependTo(g),set:function(n){n=u.parseUrl(n).hrefNoHash,e.element.attr("href",u.makeUrlAbsolute(n,h))},reset:function(){e.element.attr("href",h.hrefNoSearch)}}:r,y,rt,w;n.mobile.getDocumentUrl=u.getDocumentUrl,n.mobile.getDocumentBase=u.getDocumentBase,n.mobile.back=function(){var n=t.navigator;this.phonegapNavigationEnabled&&n&&n.app&&n.app.backHistory?n.app.backHistory():t.history.back()},n.mobile.focusPage=function(n){var t=n.find("[autofocus]"),i=n.find(".ui-title:eq(0)");if(t.length){t.focus();return}i.length?i.focus():n.focus()},y=!0,rt=function(){var t,i;y&&(t=n.mobile.urlHistory.getActive(),t&&(i=o.scrollTop(),t.lastScroll=i<n.mobile.minScrollBack?n.mobile.defaultHomeScroll:i))},w=function(){setTimeout(rt,100)},o.bind(n.support.pushState?"popstate":"hashchange",function(){y=!1});o.one(n.support.pushState?"popstate":"hashchange",function(){y=!0});o.one("pagecontainercreate",function(){n.mobile.pageContainer.bind("pagechange",function(){y=!0,o.unbind("scrollstop",w),o.bind("scrollstop",w)})});o.bind("scrollstop",w),n.mobile._maybeDegradeTransition=n.mobile._maybeDegradeTransition||function(n){return n},n.mobile.resetActivePageHeight=function(t){var i=n("."+n.mobile.activePageClass),r=parseFloat(i.css("padding-top")),u=parseFloat(i.css("padding-bottom")),f=parseFloat(i.css("border-top-width")),e=parseFloat(i.css("border-bottom-width"));t=typeof t=="number"?t:et(),i.css("min-height",t-r-u-f-e)},n.fn.animationComplete=function(t){return n.support.cssTransitions?n(this).one("webkitAnimationEnd animationend",t):(setTimeout(t,0),n(this))},n.mobile.path=u,n.mobile.base=e,n.mobile.urlHistory=f,n.mobile.dialogHashKey=s,n.mobile.allowCrossDomainPages=!1,n.mobile._bindPageRemove=function(){var t=n(this);!t.data("mobile-page").options.domCache&&t.is(":jqmData(external-page='true')")&&t.bind("pagehide.remove",function(){var t=n(this),i=new n.Event("pageremove");t.trigger(i),i.isDefaultPrevented()||t.removeWithDependents()})},n.mobile.loadPage=function(t,i){var h=n.Deferred(),f=n.extend({},n.mobile.loadPage.defaults,i),o=null,p=null,s=u.makeUrlAbsolute(t,ut()),v,c,b,y;if(f.data&&f.type==="get"&&(s=u.addSearchParams(s,f.data),f.data=r),f.data&&f.type==="post"&&(f.reloadPage=!0),v=u.getFilePath(s),c=u.convertUrlToDataUrl(s),f.pageContainer=f.pageContainer||n.mobile.pageContainer,o=f.pageContainer.children("[data-"+n.mobile.ns+"url='"+c+"']"),o.length===0&&c&&!u.isPath(c)&&(o=f.pageContainer.children("#"+c).attr("data-"+n.mobile.ns+"url",c).jqmData("url",c)),o.length===0)if(n.mobile.firstPage&&u.isFirstPageUrl(v))n.mobile.firstPage.parent().length&&(o=n(n.mobile.firstPage));else if(u.isEmbeddedPage(v))return h.reject(s,i),h.promise();if(o.length){if(!f.reloadPage)return d(o,f.role),h.resolve(s,i,o),h.promise();p=o}var k=f.pageContainer,w=new n.Event("pagebeforeload"),l={url:t,absUrl:s,dataUrl:c,deferred:h,options:f};return(k.trigger(w,l),w.isDefaultPrevented())?h.promise():(f.showLoadMsg&&(b=setTimeout(function(){n.mobile.showPageLoadingMsg()},f.loadMsgDelay),y=function(){clearTimeout(b),n.mobile.hidePageLoadingMsg()}),e&&e.reset(),n.mobile.allowCrossDomainPages||u.isSameDomain(a,s)?n.ajax({url:v,type:f.type,data:f.data,dataType:"html",success:function(r,a,w){var k=n("<div><\/div>"),b=r.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,nt=new RegExp("(<[^>]+\\bdata-"+n.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),tt=new RegExp("\\bdata-"+n.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?"),g;nt.test(r)&&RegExp.$1&&tt.test(RegExp.$1)&&RegExp.$1&&(t=v=u.getFilePath(n("<div>"+RegExp.$1+"<\/div>").text())),e&&e.set(v),k.get(0).innerHTML=r,o=k.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),o.length||(o=n("<div data-"+n.mobile.ns+"role='page'>"+(r.split(/<\/?body[^>]*>/gmi)[1]||"")+"<\/div>")),b&&!o.jqmData("title")&&(~b.indexOf("&")&&(b=n("<div>"+b+"<\/div>").text()),o.jqmData("title",b)),n.support.dynamicBaseTag||(g=u.get(v),o.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var i=n(this).is("[href]")?"href":n(this).is("[src]")?"src":"action",t=n(this).attr(i);t=t.replace(location.protocol+"//"+location.host+location.pathname,""),/^(\w+:|#|\/)/.test(t)||n(this).attr(i,g+t)})),o.attr("data-"+n.mobile.ns+"url",u.convertUrlToDataUrl(v)).attr("data-"+n.mobile.ns+"external-page",!0).appendTo(f.pageContainer);o.one("pagecreate",n.mobile._bindPageRemove);d(o,f.role),s.indexOf("&"+n.mobile.subPageUrlKey)>-1&&(o=f.pageContainer.children("[data-"+n.mobile.ns+"url='"+c+"']")),f.showLoadMsg&&y(),l.xhr=w,l.textStatus=a,l.page=o,f.pageContainer.trigger("pageload",l),h.resolve(s,i,o,p)},error:function(t,r,o){e&&e.set(u.get()),l.xhr=t,l.textStatus=r,l.errorThrown=o;var c=new n.Event("pageloadfailed");(f.pageContainer.trigger(c,l),c.isDefaultPrevented())||(f.showLoadMsg&&(y(),n.mobile.showPageLoadingMsg(n.mobile.pageLoadErrorMessageTheme,n.mobile.pageLoadErrorMessage,!0),setTimeout(n.mobile.hidePageLoadingMsg,1500)),h.reject(s,i))}}):h.reject(s,i),h.promise())},n.mobile.loadPage.defaults={type:"get",data:r,reloadPage:!1,role:r,showLoadMsg:!1,pageContainer:r,loadMsgDelay:50},n.mobile.changePage=function(t,e){var o,w,g,rt,ft;if(l){k.unshift(arguments);return}o=n.extend({},n.mobile.changePage.defaults,e),o.pageContainer=o.pageContainer||n.mobile.pageContainer,o.fromPage=o.fromPage||n.mobile.activePage,w=typeof t=="string";var nt=o.pageContainer,et=new n.Event("pagebeforechange"),c={toPage:t,options:o};if(c.absUrl=w?u.makeUrlAbsolute(t,ut()):t.data("absUrl"),nt.trigger(et,c),!et.isDefaultPrevented()){if(t=c.toPage,w=typeof t=="string",l=!0,w){o.target=t,n.mobile.loadPage(t,o).done(function(t,i,r,u){l=!1,i.duplicateCachedPage=u,r.data("absUrl",c.absUrl),n.mobile.changePage(r,i)}).fail(function(){l=!1,p(!0),it(),o.pageContainer.trigger("pagechangefailed",c)});return}t[0]!==n.mobile.firstPage[0]||o.dataUrl||(o.dataUrl=a.hrefNoHash);var tt=o.fromPage,h=o.dataUrl&&u.convertUrlToDataUrl(o.dataUrl)||t.jqmData("url"),st=h,lt=u.getFilePath(h),v=f.getActive(),ct=f.activeIndex===0,b=0,y=i.title,ht=o.role==="dialog"||t.jqmData("role")==="dialog";if(tt&&tt[0]===t[0]&&!o.allowSamePageTransition){l=!1,nt.trigger("pagechange",c),o.fromHashChange&&f.direct({url:h});return}d(t,o.role),o.fromHashChange&&(b=e.direction==="back"?-1:1);try{i.activeElement&&i.activeElement.nodeName.toLowerCase()!=="body"?n(i.activeElement).blur():n("input:focus, textarea:focus, select:focus").blur()}catch(at){}g=!1,ht&&v&&(v.url&&v.url.indexOf(s)>-1&&n.mobile.activePage&&!n.mobile.activePage.is(".ui-dialog")&&f.activeIndex>0&&(o.changeHash=!1,g=!0),h=v.url||"",h+=!g&&h.indexOf("#")>-1?s:"#"+s,f.activeIndex===0&&h===f.initialDst&&(h+=s)),rt=v?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").getEncodedText():y,!rt||y!==i.title||(y=rt),t.jqmData("title")||t.jqmData("title",y),o.transition=o.transition||(b&&!ct?v.transition:r)||(ht?n.mobile.defaultDialogTransition:n.mobile.defaultPageTransition),!b&&g&&(f.getActive().pageUrl=st),h&&!o.fromHashChange&&(!u.isPath(h)&&h.indexOf("#")<0&&(h="#"+h),ft={transition:o.transition,title:y,pageUrl:st,role:o.role},o.changeHash!==!1&&n.mobile.hashListeningEnabled?n.mobile.navigate(h,ft,!0):t[0]!==n.mobile.firstPage[0]&&n.mobile.navigate.history.add(h,ft)),i.title=y,n.mobile.activePage=t,o.reverse=o.reverse||b<0,ot(t,tt,o.transition,o.reverse).done(function(i,r,u,f,e){p(),o.duplicateCachedPage&&o.duplicateCachedPage.remove(),e||n.mobile.focusPage(t),it(),nt.trigger("pagechange",c)})}},n.mobile.changePage.defaults={transition:r,reverse:!1,changeHash:!0,fromHashChange:!1,role:r,duplicateCachedPage:r,pageContainer:r,showLoadMsg:!0,dataUrl:r,fromPage:r,allowSamePageTransition:!1},n.mobile.navreadyDeferred=n.Deferred(),n.mobile._registerInternalEvents=function(){var i=function(t,i){var e,s,r,c=!0,o,f;return!n.mobile.ajaxEnabled||t.is(":jqmData(ajax='false')")||!t.jqmHijackable().length?!1:(s=t.attr("target"),r=t.attr("action"),r||(r=b(t),r===h.hrefNoHash&&(r=a.hrefNoSearch)),r=u.makeUrlAbsolute(r,b(t)),u.isExternal(r)&&!u.isPermittedCrossDomainRequest(a,r)||s)?!1:(i||(e=t.attr("method"),o=t.serializeArray(),v&&v[0].form===t[0]&&(f=v.attr("name"),f&&(n.each(o,function(n,t){if(t.name===f)return f="",!1}),f&&o.push({name:f,value:v.attr("value")}))),c={url:r,options:{type:e&&e.length&&e.toLowerCase()||"get",data:n.param(o),transition:t.jqmData("transition"),reverse:t.jqmData("direction")==="reverse",reloadPage:!0}}),c)};n.mobile.document.delegate("form","submit",function(t){var r=i(n(this));r&&(n.mobile.changePage(r.url,r.options),t.preventDefault())}),n.mobile.document.bind("vclick",function(t){var f,e,r=t.target,o=!1;if(!(t.which>1)&&n.mobile.linkBindingEnabled){if(v=n(r),n.data(r,"mobile-button")){if(!i(n(r).closest("form"),!0))return;r.parentNode&&(r=r.parentNode)}else{if(r=ft(r),!(r&&u.parseUrl(r.getAttribute("href")||"#").hash!=="#"))return;if(!n(r).jqmHijackable().length)return}~r.className.indexOf("ui-link-inherit")?r.parentNode&&(e=n.data(r.parentNode,"buttonElements")):e=n.data(r,"buttonElements"),e?r=e.outer:o=!0,f=n(r),o&&(f=f.closest(".ui-btn")),f.length>0&&!f.hasClass("ui-disabled")&&(p(!0),c=f,c.addClass(n.mobile.activeBtnClass))}}),n.mobile.document.bind("click",function(i){var o,f,s,h,e,c,l;if(n.mobile.linkBindingEnabled&&!i.isDefaultPrevented()&&(o=ft(i.target),f=n(o),o&&!(i.which>1)&&f.jqmHijackable().length)){if(s=function(){t.setTimeout(function(){p(!0)},200)},f.is(":jqmData(rel='back')"))return n.mobile.back(),!1;if(h=b(f),e=u.makeUrlAbsolute(f.attr("href")||"#",h),!n.mobile.ajaxEnabled&&!u.isEmbeddedPage(e)){s();return}if(e.search("#")!==-1)if(e=e.replace(/[^#]*#/,""),e)e=u.isPath(e)?u.makeUrlAbsolute(e,h):u.makeUrlAbsolute("#"+e,a.hrefNoHash);else{i.preventDefault();return}if(c=f.is("[rel='external']")||f.is(":jqmData(ajax='false')")||f.is("[target]"),l=c||u.isExternal(e)&&!u.isPermittedCrossDomainRequest(a,e),l){s();return}var v=f.jqmData("transition"),y=f.jqmData("direction")==="reverse"||f.jqmData("back"),w=f.attr("data-"+n.mobile.ns+"rel")||r;n.mobile.changePage(e,{transition:v,reverse:y,role:w,link:f}),i.preventDefault()}}),n.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var t=[];n(this).find("a:jqmData(prefetch)").each(function(){var r=n(this),i=r.attr("href");i&&n.inArray(i,t)===-1&&(t.push(i),n.mobile.loadPage(i,{role:r.attr("data-"+n.mobile.ns+"rel")}))})}),n.mobile._handleHashChange=function(i,e){var o=u.stripHash(i),a=n.mobile.urlHistory.stack.length===0?"none":r,c={changeHash:!1,fromHashChange:!0,reverse:e.direction==="back"},l;if(n.extend(c,e,{transition:(f.getLast()||{}).transition||a}),f.activeIndex>0&&o.indexOf(s)>-1&&f.initialDst!==o){if(n.mobile.activePage&&!n.mobile.activePage.is(".ui-dialog")){e.direction==="back"?n.mobile.back():t.history.forward();return}o=e.pageUrl,l=n.mobile.urlHistory.getActive(),n.extend(c,{role:l.role,transition:l.transition,reverse:e.direction==="back"})}o?(o=u.isPath(o)?o:u.makeUrlAbsolute("#"+o,h),o===u.makeUrlAbsolute("#"+f.initialDst,h)&&f.stack.length&&f.stack[0].url!==f.initialDst.replace(s,"")&&(o=n.mobile.firstPage),n.mobile.changePage(o,c)):n.mobile.changePage(n.mobile.firstPage,c)},o.bind("navigate",function(t,i){var r=n.event.special.navigate.originalEventName.indexOf("hashchange")>-1?i.state.hash:i.state.url;r||(r=n.mobile.path.parseLocation().hash),r&&r!=="#"&&r.indexOf("#"+n.mobile.path.uiStateKey)!==0||(r=location.href),n.mobile._handleHashChange(r,i.state)}),n.mobile.document.bind("pageshow",n.mobile.resetActivePageHeight),n.mobile.window.bind("throttledresize",n.mobile.resetActivePageHeight)},n(function(){nt.resolve()}),n.when(nt,n.mobile.navreadyDeferred).done(function(){n.mobile._registerInternalEvents()})}(n),function(n){n.mobile.transitionFallbacks.flip="fade"}(n,this),function(n){n.mobile.transitionFallbacks.flow="fade"}(n,this),function(n){n.mobile.transitionFallbacks.pop="fade"}(n,this),function(n){n.mobile.transitionHandlers.slide=n.mobile.transitionHandlers.simultaneous,n.mobile.transitionFallbacks.slide="fade"}(n,this),function(n){n.mobile.transitionFallbacks.slidedown="fade"}(n,this),function(n){n.mobile.transitionFallbacks.slidefade="fade"}(n,this),function(n){n.mobile.transitionFallbacks.slideup="fade"}(n,this),function(n){n.mobile.transitionFallbacks.turn="fade"}(n,this),function(n){n.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},n.mobile.document.bind("pagecreate create",function(t){var i=n.mobile.closestPageData(n(t.target)),r;i&&(r=i.options,n(t.target).find("input").not(i.keepNativeSelector()).each(function(){var i=n(this),t=this.getAttribute("type"),e=r.degradeInputs[t]||"text";if(r.degradeInputs[t]){var u=n("<div>").html(i.clone()).html(),f=u.indexOf(" type=")>-1,o=f?/\s+type=["']?\w+['"]?/:/\/?>/,s=' type="'+e+'" data-'+n.mobile.ns+'type="'+t+'"'+(f?"":">");i.replaceWith(u.replace(o,s))}}))})}(n),function(n){n.widget("mobile.dialog",n.mobile.widget,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,initSelector:":jqmData(role='dialog')"},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_create:function(){var u=this,t=this.element,i=!this.options.corners?"":" ui-corner-all",r=n("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+i});t.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme),t.wrapInner(r),t.bind("vclick submit",function(t){var i=n(t.target).closest(t.type==="vclick"?"a":"form"),r;i.length&&!i.jqmData("transition")&&(r=n.mobile.urlHistory.getActive()||{},i.attr("data-"+n.mobile.ns+"transition",r.transition||n.mobile.defaultDialogTransition).attr("data-"+n.mobile.ns+"direction","reverse"))}),this._on(t,{pagebeforeshow:"_handlePageBeforeShow"}),n.extend(this,{_createComplete:!1}),this._setCloseBtn(this.options.closeBtn)},_setCloseBtn:function(t){var u=this,i,r;this._headerCloseButton&&(this._headerCloseButton.remove(),this._headerCloseButton=null),t!=="none"&&(r=t==="left"?"left":"right",i=n("<a href='#' class='ui-btn-"+r+"' data-"+n.mobile.ns+"icon='delete' data-"+n.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"<\/a>"),this.element.children().find(":jqmData(role='header')").first().prepend(i),this._createComplete&&n.fn.buttonMarkup&&i.buttonMarkup(),this._createComplete=!0,i.bind("click",function(){u.close()}),this._headerCloseButton=i)},_setOption:function(t,i){t==="closeBtn"&&(this._setCloseBtn(i),this._super(t,i),this.element.attr("data-"+(n.mobile.ns||"")+"close-btn",i))},close:function(){var r,i,t=n.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,n.mobile.hashListeningEnabled&&t.activeIndex>0?n.mobile.back():(r=Math.max(0,t.activeIndex-1),i=t.stack[r].pageUrl||t.stack[r].url,t.previousIndex=t.activeIndex,t.activeIndex=r,n.mobile.path.isPath(i)||(i=n.mobile.path.makeUrlAbsolute("#"+i)),n.mobile.changePage(i,{direction:"back",changeHash:!1,fromHashChange:!0})))}}),n.mobile.document.delegate(n.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){n.mobile.dialog.prototype.enhance(this)})}(n,this),function(n){n.mobile.page.prototype.options.backBtnText="Back",n.mobile.page.prototype.options.addBackBtn=!1,n.mobile.page.prototype.options.backBtnTheme=null,n.mobile.page.prototype.options.headerTheme="a",n.mobile.page.prototype.options.footerTheme="a",n.mobile.page.prototype.options.contentTheme=null,n.mobile.document.bind("pagecreate",function(t){var r=n(t.target),i=r.data("mobile-page").options,f=r.jqmData("role"),u=i.theme;n(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",r).jqmEnhanceable().each(function(){var t=n(this),e=t.jqmData("role"),l=t.jqmData("theme"),a=l||i.contentTheme||f==="dialog"&&u,o,s,h,v,c;t.addClass("ui-"+e),e==="header"||e==="footer"?(c=l||(e==="header"?i.headerTheme:i.footerTheme)||u,t.addClass("ui-bar-"+c).attr("role",e==="header"?"banner":"contentinfo"),e==="header"&&(o=t.children("a, button"),s=o.hasClass("ui-btn-left"),h=o.hasClass("ui-btn-right"),s=s||o.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,h=h||o.eq(1).addClass("ui-btn-right").length),i.addBackBtn&&e==="header"&&n(".ui-page").length>1&&r.jqmData("url")!==n.mobile.path.stripHash(location.hash)&&!s&&(v=n("<a href='javascript:void(0);' class='ui-btn-left' data-"+n.mobile.ns+"rel='back' data-"+n.mobile.ns+"icon='arrow-l'>"+i.backBtnText+"<\/a>").attr("data-"+n.mobile.ns+"theme",i.backBtnTheme||c).prependTo(t)),t.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})):e==="content"&&(a&&t.addClass("ui-body-"+a),t.attr("role","main"))})})}(n),function(n){n.mobile.behaviors.addFirstLastClasses={_getVisibles:function(n,t){var i;return t?i=n.not(".ui-screen-hidden"):(i=n.filter(":visible"),i.length===0&&(i=n.not(".ui-screen-hidden"))),i},_addFirstLastClasses:function(n,t,i){n.removeClass("ui-first-child ui-last-child"),t.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),i||this.element.trigger("updatelayout")}}}(n),function(n){n.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return this.nodeType===3&&!/\S/.test(this.nodeValue)}).remove()},n(i).bind("pagecreate create",function(t){n(":jqmData(role='fieldcontain')",t.target).jqmEnhanceable().fieldcontain()})}(n),function(n){n.fn.grid=function(t){return this.each(function(){var f=n(this),s=n.extend({grid:null},t),r=f.children(),e={solo:1,a:2,b:3,c:4,d:5},u=s.grid,i,o;if(!u)if(r.length<=5)for(o in e)e[o]===r.length&&(u=o);else u="a",f.addClass("ui-grid-duo");i=e[u],f.addClass("ui-grid-"+u),r.filter(":nth-child("+i+"n+1)").addClass("ui-block-a"),i>1&&r.filter(":nth-child("+i+"n+2)").addClass("ui-block-b"),i>2&&r.filter(":nth-child("+i+"n+3)").addClass("ui-block-c"),i>3&&r.filter(":nth-child("+i+"n+4)").addClass("ui-block-d"),i>4&&r.filter(":nth-child("+i+"n+5)").addClass("ui-block-e")})}}(n),function(n){n(i).bind("pagecreate create",function(t){n(":jqmData(role='nojs')",t.target).addClass("ui-nojs")})}(n),function(n){n.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(n),function(n,t){function e(n){for(var t;n;){if(t=typeof n.className=="string"&&n.className+" ",t&&t.indexOf("ui-btn ")>-1&&t.indexOf("ui-disabled ")<0)break;n=n.parentNode}return n}function u(r,u,f,e,o){var s=n.data(r[0],"buttonElements");r.removeClass(u).addClass(f),s&&(s.bcls=n(i.createElement("div")).addClass(s.bcls+" "+f).removeClass(u).attr("class"),e!==t&&(s.hover=e),s.state=o)}var r=function(n,i){var r=n.getAttribute(i);return r==="true"?!0:r==="false"?!1:r===null?t:r},f;n.fn.buttonMarkup=function(u){var g=this,c="data-"+n.mobile.ns,b,p;for(u=u&&n.type(u)==="object"?u:{},p=0;p<g.length;p++){var h=g.eq(p),o=h[0],e=n.extend({},n.fn.buttonMarkup.defaults,{icon:u.icon!==t?u.icon:r(o,c+"icon"),iconpos:u.iconpos!==t?u.iconpos:r(o,c+"iconpos"),theme:u.theme!==t?u.theme:r(o,c+"theme")||n.mobile.getInheritedTheme(h,"c"),inline:u.inline!==t?u.inline:r(o,c+"inline"),shadow:u.shadow!==t?u.shadow:r(o,c+"shadow"),corners:u.corners!==t?u.corners:r(o,c+"corners"),iconshadow:u.iconshadow!==t?u.iconshadow:r(o,c+"iconshadow"),mini:u.mini!==t?u.mini:r(o,c+"mini")},u),l,k,d=!1,w="up",a,y,v,s;for(b in e)o.setAttribute(c+b,e[b]);for(r(o,c+"rel")==="popup"&&h.attr("href")&&(o.setAttribute("aria-haspopup",!0),o.setAttribute("aria-owns",h.attr("href"))),s=n.data(o.tagName==="INPUT"||o.tagName==="BUTTON"?o.parentNode:o,"buttonElements"),s?(o=s.outer,h=n(o),a=s.inner,y=s.text,n(s.icon).remove(),s.icon=null,d=s.hover,w=s.state):(a=i.createElement(e.wrapperEls),y=i.createElement(e.wrapperEls)),v=e.icon?i.createElement("span"):null,f&&!s&&f(),e.theme||(e.theme=n.mobile.getInheritedTheme(h,"c")),l="ui-btn ",l+=d?"ui-btn-hover-"+e.theme:"",l+=w?" ui-btn-"+w+"-"+e.theme:"",l+=e.shadow?" ui-shadow":"",l+=e.corners?" ui-btn-corner-all":"",e.mini!==t&&(l+=e.mini===!0?" ui-mini":" ui-fullsize"),e.inline!==t&&(l+=e.inline===!0?" ui-btn-inline":" ui-btn-block"),e.icon&&(e.icon="ui-icon-"+e.icon,e.iconpos=e.iconpos||"left",k="ui-icon "+e.icon,e.iconshadow&&(k+=" ui-icon-shadow")),e.iconpos&&(l+=" ui-btn-icon-"+e.iconpos,e.iconpos!=="notext"||h.attr("title")||h.attr("title",h.getEncodedText())),e.iconpos&&e.iconpos==="notext"&&!h.attr("title")&&h.attr("title",h.getEncodedText()),s&&h.removeClass(s.bcls||""),h.removeClass("ui-link").addClass(l),a.className="ui-btn-inner",y.className="ui-btn-text",s||a.appendChild(y),v&&(v.className=k,s&&s.icon||(v.innerHTML="&#160;",a.appendChild(v)));o.firstChild&&!s;)y.appendChild(o.firstChild);s||o.appendChild(a),s={hover:d,state:w,bcls:l,outer:o,inner:a,text:y,icon:v},n.data(o,"buttonElements",s),n.data(a,"buttonElements",s),n.data(y,"buttonElements",s),v&&n.data(v,"buttonElements",s)}return this},n.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"},f=function(){var o=n.mobile.buttonMarkup.hoverDelay,i,r;n.mobile.document.bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(f){var s,h=n(e(f.target)),l=f.originalEvent&&/^touch/.test(f.originalEvent.type),c=f.type;h.length&&(s=h.attr("data-"+n.mobile.ns+"theme"),c==="vmousedown"?l?i=setTimeout(function(){u(h,"ui-btn-up-"+s,"ui-btn-down-"+s,t,"down")},o):u(h,"ui-btn-up-"+s,"ui-btn-down-"+s,t,"down"):c==="vmousecancel"||c==="vmouseup"?u(h,"ui-btn-down-"+s,"ui-btn-up-"+s,t,"up"):c==="vmouseover"||c==="focus"?l?r=setTimeout(function(){u(h,"ui-btn-up-"+s,"ui-btn-hover-"+s,!0,"")},o):u(h,"ui-btn-up-"+s,"ui-btn-hover-"+s,!0,""):(c==="vmouseout"||c==="blur"||c==="scrollstart")&&(u(h,"ui-btn-hover-"+s+" ui-btn-down-"+s,"ui-btn-up-"+s,!1,"up"),i&&clearTimeout(i),r&&clearTimeout(r)))},"focusin focus":function(t){n(e(t.target)).addClass(n.mobile.focusClass)},"focusout blur":function(t){n(e(t.target)).removeClass(n.mobile.focusClass)}}),f=null},n.mobile.document.bind("pagecreate create",function(t){n(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",t.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(n),function(n,t){n.widget("mobile.collapsible",n.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:"plus",expandedIcon:"minus",iconpos:"left",theme:null,contentTheme:null,inset:!0,corners:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var f=this.element,i=this.options,o=f.addClass("ui-collapsible"),r=f.children(i.heading).first(),s=o.wrapInner("<div class='ui-collapsible-content'><\/div>").children(".ui-collapsible-content"),u=f.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set"),e="";r.is("legend")&&(r=n("<div role='heading'>"+r.html()+"<\/div>").insertBefore(r),r.next().remove()),u.length?(i.theme||(i.theme=u.jqmData("theme")||n.mobile.getInheritedTheme(u,"c")),i.contentTheme||(i.contentTheme=u.jqmData("content-theme")),i.collapsedIcon=f.jqmData("collapsed-icon")||u.jqmData("collapsed-icon")||i.collapsedIcon,i.expandedIcon=f.jqmData("expanded-icon")||u.jqmData("expanded-icon")||i.expandedIcon,i.iconpos=f.jqmData("iconpos")||u.jqmData("iconpos")||i.iconpos,i.inset=u.jqmData("inset")!==t?u.jqmData("inset"):!0,i.corners=!1,i.mini||(i.mini=u.jqmData("mini"))):i.theme||(i.theme=n.mobile.getInheritedTheme(f,"c")),!i.inset||(e+=" ui-collapsible-inset",!i.corners||(e+=" ui-corner-all")),i.contentTheme&&(e+=" ui-collapsible-themed-content",s.addClass("ui-body-"+i.contentTheme)),e!==""&&o.addClass(e),r.insertBefore(s).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'><\/span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'><\/a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:i.iconpos,icon:i.collapsedIcon,mini:i.mini,theme:i.theme}),o.bind("expand collapse",function(t){if(!t.isDefaultPrevented()){var f=n(this),u=t.type==="collapse";t.preventDefault(),r.toggleClass("ui-collapsible-heading-collapsed",u).find(".ui-collapsible-heading-status").text(u?i.expandCueText:i.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+i.expandedIcon,!u).toggleClass("ui-icon-"+i.collapsedIcon,u||i.expandedIcon===i.collapsedIcon).end().find("a").first().removeClass(n.mobile.activeBtnClass),f.toggleClass("ui-collapsible-collapsed",u),s.toggleClass("ui-collapsible-content-collapsed",u).attr("aria-hidden",u),s.trigger("updatelayout")}}).trigger(i.collapsed?"collapse":"expand"),r.bind("tap",function(){r.find("a").first().addClass(n.mobile.activeBtnClass)}).bind("click",function(n){var t=r.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";o.trigger(t),n.preventDefault(),n.stopPropagation()})}}),n.mobile.document.bind("pagecreate create",function(t){n.mobile.collapsible.prototype.enhanceWithin(t.target)})}(n),function(n,t){n.widget("mobile.collapsibleset",n.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var r=this.element.addClass("ui-collapsible-set"),i=this.options;i.theme||(i.theme=n.mobile.getInheritedTheme(r,"c")),i.contentTheme||(i.contentTheme=r.jqmData("content-theme")),i.corners||(i.corners=r.jqmData("corners")),r.jqmData("inset")!==t&&(i.inset=r.jqmData("inset")),i.inset=i.inset!==t?i.inset:!0,i.corners=i.corners!==t?i.corners:!0,!i.corners||!i.inset||r.addClass("ui-corner-all"),r.jqmData("collapsiblebound")||r.jqmData("collapsiblebound",!0).bind("expand",function(t){var i=n(t.target).closest(".ui-collapsible");i.parent().is(":jqmData(role='collapsible-set')")&&i.siblings(".ui-collapsible").trigger("collapse")})},_init:function(){var n=this.element,t=n.children(":jqmData(role='collapsible')"),i=t.filter(":jqmData(collapsed='false')");this._refresh("true"),i.trigger("expand")},_refresh:function(t){var i=this.element.children(":jqmData(role='collapsible')");n.mobile.collapsible.prototype.enhance(i.not(".ui-collapsible")),this._addFirstLastClasses(i,this._getVisibles(i,t),t)},refresh:function(){this._refresh(!1)}}),n.widget("mobile.collapsibleset",n.mobile.collapsibleset,n.mobile.behaviors.addFirstLastClasses),n.mobile.document.bind("pagecreate create",function(t){n.mobile.collapsibleset.prototype.enhanceWithin(t.target)})}(n),function(n,t){n.widget("mobile.navbar",n.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var r=this.element,u=r.find("a"),f=u.filter(":jqmData(icon)").length?this.options.iconpos:t;r.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),u.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:f}),r.delegate("a","vclick",function(t){if(!n(t.target).hasClass("ui-disabled")){u.removeClass(n.mobile.activeBtnClass),n(this).addClass(n.mobile.activeBtnClass);var r=n(this);n(i).one("pagechange",function(){r.removeClass(n.mobile.activeBtnClass)})}}),r.closest(".ui-page").bind("pagebeforeshow",function(){u.filter(".ui-state-persist").addClass(n.mobile.activeBtnClass)})}}),n.mobile.document.bind("pagecreate create",function(t){n.mobile.navbar.prototype.enhanceWithin(t.target)})}(n),function(n){var t={};n.widget("mobile.listview",n.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",icon:"arrow-r",splitIcon:"arrow-r",splitTheme:"b",corners:!0,shadow:!0,inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var n=this,t="";t+=n.options.inset?" ui-listview-inset":"",!n.options.inset||(t+=n.options.corners?" ui-corner-all":"",t+=n.options.shadow?" ui-shadow":""),n.element.addClass(function(n,i){return i+" ui-listview"+t}),n.refresh(!0)},_findFirstElementByTagName:function(n,t,i,r){var u={};for(u[i]=u[r]=!0;n;){if(u[n.nodeName])return n;n=n[t]}return null},_getChildrenByTagName:function(t,i,r){var f=[],u={};for(u[i]=u[r]=!0,t=t.firstChild;t;)u[t.nodeName]&&f.push(t),t=t.nextSibling;return n(f)},_addThumbClasses:function(t){for(var i,u=t.length,r=0;r<u;r++)i=n(this._findFirstElementByTagName(t[r].firstChild,"nextSibling","img","IMG")),i.length&&(i.addClass("ui-li-thumb"),n(this._findFirstElementByTagName(i[0].parentNode,"parentNode","li","LI")).addClass(i.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(t){var b,rt,k;this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var o=this.options,f=this.element,st=this,ut=f.jqmData("dividertheme")||o.dividerTheme,ft=f.jqmData("splittheme"),et=f.jqmData("spliticon"),ot=f.jqmData("icon"),c=this._getChildrenByTagName(f[0],"li","LI"),p=!!n.nodeName(f[0],"ol"),h=!n.support.cssPseudoElement,e=f.attr("start"),l={},r,u,w,s,a,d,v,g,nt,tt,y,it;for(p&&h&&f.find(".ui-li-dec").remove(),p&&(e||e===0?h?v=parseInt(e,10):(g=parseInt(e,10)-1,f.css("counter-reset","listnumbering "+g)):h&&(v=1)),o.theme||(o.theme=n.mobile.getInheritedTheme(this.element,"c")),b=0,rt=c.length;b<rt;b++)r=c.eq(b),u="ui-li",(t||!r.hasClass("ui-li"))&&(w=r.jqmData("theme")||o.theme,s=this._getChildrenByTagName(r[0],"a","A"),k=r.jqmData("role")==="list-divider",s.length&&!k?(y=r.jqmData("icon"),r.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:s.length>1||y===!1?!1:y||ot||o.icon,theme:w}),y!==!1&&s.length===1&&r.addClass("ui-li-has-arrow"),s.first().removeClass("ui-link").addClass("ui-link-inherit"),s.length>1&&(u+=" ui-li-has-alt",a=s.last(),d=ft||a.jqmData("theme")||o.splitTheme,it=a.jqmData("icon"),a.appendTo(r).attr("title",n.trim(a.getEncodedText())).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:w,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(n(i.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:d,iconpos:"notext",icon:it||y||et||o.splitIcon})))):k?(u+=" ui-li-divider ui-bar-"+(r.jqmData("theme")||ut),r.attr("role","heading"),p&&(e||e===0?h?v=parseInt(e,10):(nt=parseInt(e,10)-1,r.css("counter-reset","listnumbering "+nt)):h&&(v=1))):u+=" ui-li-static ui-btn-up-"+w),p&&h&&u.indexOf("ui-li-divider")<0&&(tt=u.indexOf("ui-li-static")>0?r:r.find(".ui-link-inherit"),tt.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+v+++". <\/span>")),l[u]||(l[u]=[]),l[u].push(r[0]);for(u in l)n(l[u]).addClass(u).children(".ui-btn-inner").addClass(u);f.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var t=n(this);t.prependTo(t.parent())}).end().find(".ui-li-count").each(function(){n(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(f.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(c),this._addThumbClasses(f.find(".ui-link-inherit")),this._addFirstLastClasses(c,this._getVisibles(c,t),t),this._trigger("afterrefresh")},_idStringEscape:function(n){return n.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var u=this.element,r=u.closest(".ui-page"),f=r.jqmData("url"),e=f||r[0][n.expando],o=u.attr("id"),s=this.options,i="data-"+n.mobile.ns,a=this,h=r.find(":jqmData(role='footer')").jqmData("id"),c,l;typeof t[e]=="undefined"&&(t[e]=-1),o=o||++t[e],n(u.find("li>ul, li>ol").toArray().reverse()).each(function(t){var g=this,r=n(this),b=r.attr("id")||o+"-"+t,l=r.parent(),a=n(r.prevAll().toArray().reverse()),v=a.length?a:n("<span>"+n.trim(l.contents()[0].nodeValue)+"<\/span>"),y=v.first().getEncodedText(),p=(f||"")+"&"+n.mobile.subPageUrlKey+"="+b,k=r.jqmData("theme")||s.theme,d=r.jqmData("counttheme")||u.jqmData("counttheme")||s.countTheme,w,e;c=!0,w=r.detach().wrap("<div "+i+"role='page' "+i+"url='"+p+"' "+i+"theme='"+k+"' "+i+"count-theme='"+d+"'><div "+i+"role='content'><\/div><\/div>").parent().before("<div "+i+"role='header' "+i+"theme='"+s.headerTheme+"'><div class='ui-title'>"+y+"<\/div><\/div>").after(h?n("<div "+i+"role='footer' "+i+"id='"+h+"'>"):"").parent().appendTo(n.mobile.pageContainer),w.page(),e=l.find("a:first"),e.length||(e=n("<a/>").html(v||y).prependTo(l.empty())),e.attr("href","#"+p)}).listview(),c&&r.is(":jqmData(external-page='true')")&&r.data("mobile-page").options.domCache===!1&&(l=function(t,i){var o=i.nextPage,u,e=new n.Event("pageremove");i.nextPage&&(u=o.jqmData("url"),u.indexOf(f+"&"+n.mobile.subPageUrlKey)!==0&&(a.childPages().remove(),r.trigger(e),e.isDefaultPrevented()||r.removeWithDependents()))},r.unbind("pagehide.remove").bind("pagehide.remove",l))},childPages:function(){var t=this.parentPage.jqmData("url");return n(":jqmData(url^='"+t+"&"+n.mobile.subPageUrlKey+"')")}}),n.widget("mobile.listview",n.mobile.listview,n.mobile.behaviors.addFirstLastClasses),n.mobile.document.bind("pagecreate create",function(t){n.mobile.listview.prototype.enhanceWithin(t.target)})}(n),function(n){n.mobile.listview.prototype.options.autodividers=!1,n.mobile.listview.prototype.options.autodividersSelector=function(t){var i=n.trim(t.text())||null;return i?i.slice(0,1).toUpperCase():null},n.mobile.document.delegate("ul,ol","listviewcreate",function(){var t=n(this),r=t.data("mobile-listview"),f,u;r&&r.options.autodividers&&(f=function(){var s,h,f,u,e,o;for(t.find("li:jqmData(role='list-divider')").remove(),s=t.find("li"),h=null,e=0;e<s.length;e++)f=s[e],u=r.options.autodividersSelector(n(f)),u&&h!==u&&(o=i.createElement("li"),o.appendChild(i.createTextNode(u)),o.setAttribute("data-"+n.mobile.ns+"role","list-divider"),f.parentNode.insertBefore(o,f)),h=u},u=function(){t.unbind("listviewafterrefresh",u),f(),r.refresh(),t.bind("listviewafterrefresh",u)},u())})}(n),function(n){n.widget("mobile.checkboxradio",n.mobile.widget,{options:{theme:null,mini:!1,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var u=this,t=this.element,e=this.options,h=function(n,t){return n.jqmData(t)||n.closest("form, fieldset").jqmData(t)},c=n(t).closest("label"),f=c.length?c:n(t).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+t[0].id+"']").first(),r=t[0].type,a=h(t,"mini")||e.mini,l=r+"-on",o=r+"-off",v=h(t,"iconpos"),y="ui-"+l,p="ui-"+o,s;(r==="checkbox"||r==="radio")&&(n.extend(this,{label:f,inputtype:r,checkedClass:y,uncheckedClass:p,checkedicon:l,uncheckedicon:o}),e.theme||(e.theme=n.mobile.getInheritedTheme(this.element,"c")),f.buttonMarkup({theme:e.theme,icon:o,shadow:!1,mini:a,iconpos:v}),s=i.createElement("div"),s.className="ui-"+r,t.add(f).wrapAll(s),f.bind({vmouseover:function(t){n(this).parent().is(".ui-disabled")&&t.stopPropagation()},vclick:function(n){if(t.is(":disabled")){n.preventDefault();return}return u._cacheVals(),t.prop("checked",r==="radio"&&!0||!t.prop("checked")),t.triggerHandler("click"),u._getInputSet().not(t).prop("checked",!1),u._updateAll(),!1}}),t.bind({vmousedown:function(){u._cacheVals()},vclick:function(){var t=n(this);t.is(":checked")?(t.prop("checked",!0),u._getInputSet().not(t).prop("checked",!1)):t.prop("checked",!1),u._updateAll()},focus:function(){f.addClass(n.mobile.focusClass)},blur:function(){f.removeClass(n.mobile.focusClass)}}),this._handleFormReset&&this._handleFormReset(),this.refresh())},_cacheVals:function(){this._getInputSet().each(function(){n(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return this.inputtype==="checkbox"?this.element:this.element.closest("form, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var t=this;this._getInputSet().each(function(){var i=n(this);(this.checked||t.inputtype==="checkbox")&&i.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},refresh:function(){var t=this.element[0],i=" "+n.mobile.activeBtnClass,r=this.checkedClass+(this.element.parents(".ui-controlgroup-horizontal").length?i:""),u=this.label;t.checked?u.removeClass(this.uncheckedClass+i).addClass(r).buttonMarkup({icon:this.checkedicon}):u.removeClass(r).addClass(this.uncheckedClass).buttonMarkup({icon:this.uncheckedicon}),t.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}}),n.widget("mobile.checkboxradio",n.mobile.checkboxradio,n.mobile.behaviors.formReset),n.mobile.document.bind("pagecreate create",function(t){n.mobile.checkboxradio.prototype.enhanceWithin(t.target,!0)})}(n),function(n){n.widget("mobile.button",n.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:!0,shadow:!0,iconshadow:!0,inline:null,mini:null,initSelector:"button, [type='button'], [type='submit'], [type='reset']"},_create:function(){var t=this.element,r,u=function(n){var t,i={};for(t in n)n[t]!==null&&t!=="initSelector"&&(i[t]=n[t]);return i}(this.options),i="";if(t[0].tagName==="A"){t.hasClass("ui-btn")||t.buttonMarkup();return}this.options.theme||(this.options.theme=n.mobile.getInheritedTheme(this.element,"c")),!~t[0].className.indexOf("ui-btn-left")||(i="ui-btn-left"),!~t[0].className.indexOf("ui-btn-right")||(i="ui-btn-right"),(t.attr("type")==="submit"||t.attr("type")==="reset")&&(i?i+=" ui-submit":i="ui-submit"),n("label[for='"+t.attr("id")+"']").addClass("ui-submit"),this.button=n("<div><\/div>")[t.html()?"html":"text"](t.html()||t.val()).insertBefore(t).buttonMarkup(u).addClass(i).append(t.addClass("ui-btn-hidden")),r=this.button,t.bind({focus:function(){r.addClass(n.mobile.focusClass)},blur:function(){r.removeClass(n.mobile.focusClass)}}),this.refresh()},_setOption:function(t,i){var r={};r[t]=i,t!=="initSelector"&&(this.button.buttonMarkup(r),this.element.attr("data-"+(n.mobile.ns||"")+t.replace(/([A-Z])/,"-$1").toLowerCase(),i)),this._super("_setOption",t,i)},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var t=this.element;t.prop("disabled")?this.disable():this.enable(),n(this.button.data("buttonElements").text)[t.html()?"html":"text"](t.html()||t.val())}}),n.mobile.document.bind("pagecreate create",function(t){n.mobile.button.prototype.enhanceWithin(t.target,!0)})}(n),function(n,t){n.widget("mobile.controlgroup",n.mobile.widget,{options:{shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1,initSelector:":jqmData(role='controlgroup')"},_create:function(){var i=this.element,r={inner:n("<div class='ui-controlgroup-controls'><\/div>"),legend:n("<div role='heading' class='ui-controlgroup-label'><\/div>")},u=i.children("legend"),f=this;i.wrapInner(r.inner),u.length&&r.legend.append(u).insertBefore(i.children(0)),i.addClass("ui-corner-all ui-controlgroup"),n.extend(this,{_initialRefresh:!0}),n.each(this.options,function(n,i){f.options[n]=t,f._setOption(n,i,!0)})},_init:function(){this.refresh()},_setOption:function(i,r){var u="_set"+i.charAt(0).toUpperCase()+i.slice(1);this[u]!==t&&this[u](r),this._super(i,r),this.element.attr("data-"+(n.mobile.ns||"")+i.replace(/([A-Z])/,"-$1").toLowerCase(),r)},_setType:function(n){this.element.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+n),this.refresh()},_setCorners:function(n){this.element.toggleClass("ui-corner-all",n)},_setShadow:function(n){this.element.toggleClass("ui-shadow",n)},_setMini:function(n){this.element.toggleClass("ui-mini",n)},container:function(){return this.element.children(".ui-controlgroup-controls")},refresh:function(){var t=this.element.find(".ui-btn").not(".ui-slider-handle"),i=this._initialRefresh;n.mobile.checkboxradio&&this.element.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(t,this.options.excludeInvisible?this._getVisibles(t,i):t,i),this._initialRefresh=!1}}),n.widget("mobile.controlgroup",n.mobile.controlgroup,n.mobile.behaviors.addFirstLastClasses),n(function(){n.mobile.document.bind("pagecreate create",function(t){n.mobile.controlgroup.prototype.enhanceWithin(t.target,!0)})})}(n),function(n){n(i).bind("pagecreate create",function(t){n(t.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})}(n),function(n,r){function f(n,t,i,r){var u=r;return n<t?i+(n-t)/2:Math.min(Math.max(i,r-t/2),i+n-t)}function u(){var i=n.mobile.window;return{x:i.scrollLeft(),y:i.scrollTop(),cx:t.innerWidth||i.width(),cy:t.innerHeight||i.height()}}n.widget("mobile.popup",n.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,history:!n.mobile.browser.oldIE},_eatEventAndClose:function(n){return n.preventDefault(),n.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var n=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style"),n>this._ui.screen.height()&&this._ui.screen.height(n)},_handleWindowKeyUp:function(t){if(this._isOpen&&t.keyCode===n.mobile.keyCode.ESCAPE)return this._eatEventAndClose(t)},_expectResizeEvent:function(){var t=u();if(this._resizeData){if(t.x===this._resizeData.winCoords.x&&t.y===this._resizeData.winCoords.y&&t.cx===this._resizeData.winCoords.cx&&t.cy===this._resizeData.winCoords.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:setTimeout(n.proxy(this,"_resizeTimeout"),200),winCoords:t},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_ignoreResizeEvents:function(){var n=this;this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=setTimeout(function(){n._ignoreResizeTo=0},1e3)},_handleWindowResize:function(){this._isOpen&&this._ignoreResizeTo===0&&(this._expectResizeEvent()||this._orientationchangeInProgress)&&!this._ui.container.hasClass("ui-popup-hidden")&&this._ui.container.addClass("ui-popup-hidden").removeAttr("style")},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&this._ignoreResizeTo===0&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(t){var f=t.target,u,r=this._ui;if(this._isOpen){if(f!==r.container[0]){if(u=n(t.target),0===u.parents().filter(r.container[0]).length){n(i.activeElement).one("focus",function(){u.blur()});return r.focusElement.focus(),t.preventDefault(),t.stopImmediatePropagation(),!1}r.focusElement[0]===r.container[0]&&(r.focusElement=u)}else r.focusElement&&r.focusElement[0]!==r.container[0]&&(r.container.blur(),r.focusElement.focus());this._ignoreResizeEvents()}},_create:function(){var t={screen:n("<div class='ui-screen-hidden ui-popup-screen'><\/div>"),placeholder:n("<div style='display: none;'><!-- placeholder --><\/div>"),container:n("<div class='ui-popup-container ui-popup-hidden'><\/div>")},i=this.element.closest(".ui-page"),u=this.element.attr("id"),f=this;this.options.history=this.options.history&&n.mobile.ajaxEnabled&&n.mobile.hashListeningEnabled,i.length===0&&(i=n("body")),this.options.container=this.options.container||n.mobile.pageContainer,i.append(t.screen),t.container.insertAfter(t.screen),t.placeholder.insertAfter(this.element),u&&(t.screen.attr("id",u+"-screen"),t.container.attr("id",u+"-popup"),t.placeholder.html("<!-- placeholder for "+u+" -->")),t.container.append(this.element),t.focusElement=t.container,this.element.addClass("ui-popup"),n.extend(this,{_scrollTop:0,_page:i,_ui:t,_fallbackTransition:"",_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),n.each(this.options,function(n,t){f.options[n]=r,f._setOption(n,t,!0)}),t.screen.bind("vclick",n.proxy(this,"_eatEventAndClose")),this._on(n.mobile.window,{orientationchange:n.proxy(this,"_handleWindowOrientationchange"),resize:n.proxy(this,"_handleWindowResize"),keyup:n.proxy(this,"_handleWindowKeyUp")}),this._on(n.mobile.document,{focusin:n.proxy(this,"_handleDocumentFocusIn")})},_applyTheme:function(n,t,i){for(var f=(n.attr("class")||"").split(" "),r=null,u,e=String(t);f.length>0;)if(r=f.pop(),u=new RegExp("^ui-"+i+"-([a-z])$").exec(r),u&&u.length>1){r=u[1];break}else r=null;t!==r&&(n.removeClass("ui-"+i+"-"+r),t===null||t==="none"||n.addClass("ui-"+i+"-"+e))},_setTheme:function(n){this._applyTheme(this.element,n,"body")},_setOverlayTheme:function(n){this._applyTheme(this._ui.screen,n,"overlay"),this._isOpen&&this._ui.screen.addClass("in")},_setShadow:function(n){this.element.toggleClass("ui-overlay-shadow",n)},_setCorners:function(n){this.element.toggleClass("ui-corner-all",n)},_applyTransition:function(t){this._ui.container.removeClass(this._fallbackTransition),t&&t!=="none"&&(this._fallbackTransition=n.mobile._maybeDegradeTransition(t),this._fallbackTransition==="none"&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(n){this._currentTransition||this._applyTransition(n)},_setTolerance:function(t){var u={t:30,r:15,b:30,l:15},i;if(t!==r){i=String(t).split(","),n.each(i,function(n,t){i[n]=parseInt(t,10)});switch(i.length){case 1:isNaN(i[0])||(u.t=u.r=u.b=u.l=i[0]);break;case 2:isNaN(i[0])||(u.t=u.b=i[0]),isNaN(i[1])||(u.l=u.r=i[1]);break;case 4:isNaN(i[0])||(u.t=i[0]),isNaN(i[1])||(u.r=i[1]),isNaN(i[2])||(u.b=i[2]),isNaN(i[3])||(u.l=i[3])}}this._tolerance=u},_setOption:function(t,i){var u,f="_set"+t.charAt(0).toUpperCase()+t.slice(1);this[f]!==r&&this[f](i),u=["initSelector","closeLinkSelector","closeLinkEvents","navigateEvents","closeEvents","history","container"],n.mobile.widget.prototype._setOption.apply(this,arguments),n.inArray(t,u)===-1&&this.element.attr("data-"+(n.mobile.ns||"")+t.replace(/([A-Z])/,"-$1").toLowerCase(),i)},_placementCoords:function(n){var o=u(),r={x:this._tolerance.l,y:o.y+this._tolerance.t,cx:o.cx-this._tolerance.l-this._tolerance.r,cy:o.cy-this._tolerance.t-this._tolerance.b},e,t;this._ui.container.css("max-width",r.cx),e={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},t={x:f(r.cx,e.cx,r.x,n.x),y:f(r.cy,e.cy,r.y,n.y)},t.y=Math.max(0,t.y);var s=i.documentElement,h=i.body,c=Math.max(s.clientHeight,h.scrollHeight,h.offsetHeight,s.scrollHeight,s.offsetHeight);return t.y-=Math.min(t.y,Math.max(0,t.y+e.cy-c)),{left:t.x,top:t.y}},_createPrereqs:function(t,i,r){var f=this,u;u={screen:n.Deferred(),container:n.Deferred()},u.screen.then(function(){u===f._prereqs&&t()}),u.container.then(function(){u===f._prereqs&&i()}),n.when(u.screen,u.container).done(function(){u===f._prereqs&&(f._prereqs=null,r())}),f._prereqs=u},_animate:function(t){if(this._ui.screen.removeClass(t.classToRemove).addClass(t.screenClassToAdd),t.prereqs.screen.resolve(),t.transition&&t.transition!=="none"&&(t.applyTransition&&this._applyTransition(t.transition),this._fallbackTransition)){this._ui.container.animationComplete(n.proxy(t.prereqs.container,"resolve")).addClass(t.containerClassToAdd).removeClass(t.classToRemove);return}this._ui.container.removeClass(t.classToRemove),t.prereqs.container.resolve()},_desiredCoords:function(t){var i=null,s,r=u(),f=t.x,e=t.y,o=t.positionTo;if(o&&o!=="origin")if(o==="window")f=r.cx/2+r.x,e=r.cy/2+r.y;else{try{i=n(o)}catch(h){i=null}i&&(i.filter(":visible"),i.length===0&&(i=null))}return i&&(s=i.offset(),f=s.left+i.outerWidth()/2,e=s.top+i.outerHeight()/2),(n.type(f)!=="number"||isNaN(f))&&(f=r.cx/2+r.x),(n.type(e)!=="number"||isNaN(e))&&(e=r.cy/2+r.y),{x:f,y:e}},_reposition:function(n){n={x:n.x,y:n.y,positionTo:n.positionTo},this._trigger("beforeposition",n),this._ui.container.offset(this._placementCoords(this._desiredCoords(n)))},reposition:function(n){this._isOpen&&this._reposition(n)},_openPrereqsComplete:function(){this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),this._ui.container.attr("tabindex","0").focus(),this._ignoreResizeEvents(),this._trigger("afteropen")},_open:function(i){var r=n.extend({},this.options,i),u=function(){var o=t,n=navigator.userAgent,r=n.match(/AppleWebKit\/([0-9\.]+)/),u=!!r&&r[1],i=n.match(/Android (\d+(?:\.\d+))/),f=!!i&&i[1],e=n.indexOf("Chrome")>-1;return i!==null&&f==="4.0"&&u&&u>534.13&&!e?!0:!1}();this._createPrereqs(n.noop,n.noop,n.proxy(this,"_openPrereqsComplete")),this._currentTransition=r.transition,this._applyTransition(r.transition),this.options.theme||this._setTheme(this._page.jqmData("theme")||n.mobile.getInheritedTheme(this._page,"c")),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-hidden"),this._reposition(r),this.options.overlayTheme&&u&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:r.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden").removeAttr("style")},_closePrereqsDone:function(){var t=this.options;this._ui.container.removeAttr("tabindex"),n.mobile.popup.active=r,this._trigger("afterclose")},_close:function(t){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrereqs(n.proxy(this,"_closePrereqScreen"),n.proxy(this,"_closePrereqContainer"),n.proxy(this,"_closePrereqsDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:t?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_unenhance:function(){this._setTheme("none"),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove()},_destroy:function(){if(n.mobile.popup.active===this){this.element.one("popupafterclose",n.proxy(this,"_unenhance"));this.close()}else this._unenhance()},_closePopup:function(i,r){var u,e,f=this.options,o=!1;t.scrollTo(0,this._scrollTop),i&&i.type==="pagebeforechange"&&r&&(u=typeof r.toPage=="string"?r.toPage:r.toPage.jqmData("url"),u=n.mobile.path.parseUrl(u),e=u.pathname+u.search+u.hash,this._myUrl!==n.mobile.path.makeUrlAbsolute(e)?o=!0:i.preventDefault()),f.container.unbind(f.closeEvents),this.element.undelegate(f.closeLinkSelector,f.closeLinkEvents),this._close(o)},_bindContainerClose:function(){this.options.container.one(this.options.closeEvents,n.proxy(this,"_closePopup"))},open:function(i){var u=this,o=this.options,r,f,h,s,c,e;if(!n.mobile.popup.active){if(n.mobile.popup.active=this,this._scrollTop=n.mobile.window.scrollTop(),!o.history){u._open(i),u._bindContainerClose(),u.element.delegate(o.closeLinkSelector,o.closeLinkEvents,function(n){u.close(),n.preventDefault()});return}if(e=n.mobile.urlHistory,f=n.mobile.dialogHashKey,h=n.mobile.activePage,s=h.is(".ui-dialog"),this._myUrl=r=e.getActive().url,c=r.indexOf(f)>-1&&!s&&e.activeIndex>0,c){u._open(i),u._bindContainerClose();return}r=r.indexOf(f)!==-1||s?n.mobile.path.parseLocation().hash+f:r+(r.indexOf("#")>-1?f:"#"+f),e.activeIndex===0&&r===e.initialDst&&(r+=f);n(t).one("beforenavigate",function(n){n.preventDefault(),u._open(i),u._bindContainerClose()});this.urlAltered=!0,n.mobile.navigate(r,{role:"dialog"})}},close:function(){n.mobile.popup.active===this&&(this._scrollTop=n.mobile.window.scrollTop(),this.options.history&&this.urlAltered?(n.mobile.back(),this.urlAltered=!1):this._closePopup())}}),n.mobile.popup.handleLink=function(t){var r=t.closest(":jqmData(role='page')"),f=r.length===0?n("body"):r,u=n(n.mobile.path.parseUrl(t.attr("href")).hash,f[0]),i;u.data("mobile-popup")&&(i=t.offset(),u.popup("open",{x:i.left+t.outerWidth()/2,y:i.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to")})),setTimeout(function(){var i=t.parent().parent();i.hasClass("ui-li")&&(t=i.parent()),t.removeClass(n.mobile.activeBtnClass)},300)},n.mobile.document.bind("pagebeforechange",function(t,i){i.options.role==="popup"&&(n.mobile.popup.handleLink(i.options.link),t.preventDefault())}),n.mobile.document.bind("pagecreate create",function(t){n.mobile.popup.prototype.enhanceWithin(t.target,!0)})}(n),function(n,r){n.widget("mobile.panel",n.mobile.widget,{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pagePanel:"ui-page-panel",pagePanelOpen:"ui-page-panel-open",contentWrap:"ui-panel-content-wrap",contentWrapOpen:"ui-panel-content-wrap-open",contentWrapClosed:"ui-panel-content-wrap-closed",contentFixedToolbar:"ui-panel-content-fixed-toolbar",contentFixedToolbarOpen:"ui-panel-content-fixed-toolbar-open",contentFixedToolbarClosed:"ui-panel-content-fixed-toolbar-closed",animate:"ui-panel-animate"},animate:!0,theme:"c",position:"left",dismissible:!0,display:"reveal",initSelector:":jqmData(role='panel')",swipeClose:!0,positionFixed:!1},_panelID:null,_closeLink:null,_page:null,_modal:null,_pannelInner:null,_wrapper:null,_fixedToolbar:null,_create:function(){var t=this,i=t.element,r=i.closest(":jqmData(role='page')"),u=function(){var t=n.data(r[0],"mobilePage").options.theme;return"ui-body-"+t},f=function(){var n=i.find("."+t.options.classes.panelInner);return n.length===0&&(n=i.children().wrapAll('<div class="'+t.options.classes.panelInner+'" />').parent()),n},e=function(){var i=r.find("."+t.options.classes.contentWrap);return i.length===0&&(i=r.children(".ui-header:not(:jqmData(position='fixed')), .ui-content:not(:jqmData(role='popup')), .ui-footer:not(:jqmData(position='fixed'))").wrapAll('<div class="'+t.options.classes.contentWrap+" "+u()+'" />').parent(),n.support.cssTransform3d&&!!t.options.animate&&i.addClass(t.options.classes.animate)),i},o=function(){var i=r.find("."+t.options.classes.contentFixedToolbar);return i.length===0&&(i=r.find(".ui-header:jqmData(position='fixed'), .ui-footer:jqmData(position='fixed')").addClass(t.options.classes.contentFixedToolbar),n.support.cssTransform3d&&!!t.options.animate&&i.addClass(t.options.classes.animate)),i};n.extend(this,{_panelID:i.attr("id"),_closeLink:i.find(":jqmData(rel='close')"),_page:i.closest(":jqmData(role='page')"),_pageTheme:u(),_pannelInner:f(),_wrapper:e(),_fixedToolbar:o()}),t._addPanelClasses(),t._wrapper.addClass(this.options.classes.contentWrapClosed),t._fixedToolbar.addClass(this.options.classes.contentFixedToolbarClosed),t._page.addClass(t.options.classes.pagePanel),n.support.cssTransform3d&&!!t.options.animate&&this.element.addClass(t.options.classes.animate),t._bindUpdateLayout(),t._bindCloseEvents(),t._bindLinkListeners(),t._bindPageEvents(),!t.options.dismissible||t._createModal(),t._bindSwipeEvents()},_createModal:function(){var t=this;t._modal=n("<div class='"+t.options.classes.modal+"' data-panelid='"+t._panelID+"'><\/div>").on("mousedown",function(){t.close()}).appendTo(this._page)},_getPosDisplayClasses:function(n){return n+"-position-"+this.options.position+" "+n+"-display-"+this.options.display},_getPanelClasses:function(){var n=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed;return this.options.theme&&(n+=" ui-body-"+this.options.theme),!this.options.positionFixed||(n+=" "+this.options.classes.panelFixed),n},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_bindCloseEvents:function(){var n=this;n._closeLink.on("click.panel",function(t){return t.preventDefault(),n.close(),!1});n.element.on("click.panel","a:jqmData(ajax='false')",function(){n.close()})},_positionPanel:function(){var t=this,i=t._pannelInner.outerHeight(),r=i>n.mobile.getScreenHeight();r||!t.options.positionFixed?(r&&(t._unfixPanel(),n.mobile.resetActivePageHeight(i)),t._scrollIntoView(i)):t._fixPanel()},_scrollIntoView:function(i){i<n(t).scrollTop()&&t.scrollTo(0,0)},_bindFixListener:function(){this._on(n(t),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(n(t),"throttledresize")},_unfixPanel:function(){!!this.options.positionFixed&&n.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){!!this.options.positionFixed&&n.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var n=this;n.element.on("updatelayout",function(){n._open&&n._positionPanel()})},_bindLinkListeners:function(){var t=this;t._page.on("click.panel","a",function(i){if(this.href.split("#")[1]===t._panelID&&t._panelID!==r){i.preventDefault();var u=n(this);if(!u.hasClass("ui-link")){u.addClass(n.mobile.activeBtnClass);t.element.one("panelopen panelclose",function(){u.removeClass(n.mobile.activeBtnClass)})}return t.toggle(),!1}})},_bindSwipeEvents:function(){var n=this,t=n._modal?n.element.add(n._modal):n.element;if(!!n.options.swipeClose)if(n.options.position==="left")t.on("swipeleft.panel",function(){n.close()});else t.on("swiperight.panel",function(){n.close()})},_bindPageEvents:function(){var n=this;n._page.on("panelbeforeopen",function(t){n._open&&t.target!==n.element[0]&&n.close()}).on("pagehide",function(){n._open&&n.close(!0)}).on("keyup.panel",function(t){t.keyCode===27&&n._open&&n.close()})},_open:!1,_contentWrapOpenClasses:null,_fixedToolbarOpenClasses:null,_modalOpenClasses:null,open:function(t){if(!this._open){var i=this,r=i.options,f=function(){if(i._page.off("panelclose"),i._page.jqmData("panel","open"),t||!n.support.cssTransform3d||!r.animate)setTimeout(u,0);else i.element.add(i._wrapper).on(i._transitionEndEvents,u);i.options.theme&&i.options.display!=="overlay"&&i._page.removeClass(i._pageTheme).addClass("ui-body-"+i.options.theme),i.element.removeClass(r.classes.panelClosed).addClass(r.classes.panelOpen),i._contentWrapOpenClasses=i._getPosDisplayClasses(r.classes.contentWrap),i._wrapper.removeClass(r.classes.contentWrapClosed).addClass(i._contentWrapOpenClasses+" "+r.classes.contentWrapOpen),i._fixedToolbarOpenClasses=i._getPosDisplayClasses(r.classes.contentFixedToolbar),i._fixedToolbar.removeClass(r.classes.contentFixedToolbarClosed).addClass(i._fixedToolbarOpenClasses+" "+r.classes.contentFixedToolbarOpen),i._modalOpenClasses=i._getPosDisplayClasses(r.classes.modal)+" "+r.classes.modalOpen,i._modal&&i._modal.addClass(i._modalOpenClasses)},u=function(){i.element.add(i._wrapper).off(i._transitionEndEvents,u),i._page.addClass(r.classes.pagePanelOpen),i._positionPanel(),i._bindFixListener(),i._trigger("open")};if(this.element.closest(".ui-page-active").length<0&&(t=!0),i._trigger("beforeopen"),i._page.jqmData("panel")==="open")i._page.on("panelclose",function(){f()});else f();i._open=!0}},close:function(t){if(this._open){var r=this.options,i=this,f=function(){if(t||!n.support.cssTransform3d||!r.animate)setTimeout(u,0);else i.element.add(i._wrapper).on(i._transitionEndEvents,u);i._page.removeClass(r.classes.pagePanelOpen),i.element.removeClass(r.classes.panelOpen),i._wrapper.removeClass(r.classes.contentWrapOpen),i._fixedToolbar.removeClass(r.classes.contentFixedToolbarOpen),i._modal&&i._modal.removeClass(i._modalOpenClasses)},u=function(){i.options.theme&&i.options.display!=="overlay"&&i._page.removeClass("ui-body-"+i.options.theme).addClass(i._pageTheme),i.element.add(i._wrapper).off(i._transitionEndEvents,u),i.element.addClass(r.classes.panelClosed),i._wrapper.removeClass(i._contentWrapOpenClasses).addClass(r.classes.contentWrapClosed),i._fixedToolbar.removeClass(i._fixedToolbarOpenClasses).addClass(r.classes.contentFixedToolbarClosed),i._fixPanel(),i._unbindFixListener(),n.mobile.resetActivePageHeight(),i._page.jqmRemoveData("panel"),i._trigger("close")};this.element.closest(".ui-page-active").length<0&&(t=!0),i._trigger("beforeclose"),f(),i._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_transitionEndEvents:"webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",_destroy:function(){var t=this.options.classes,i=this.options.theme,r=this.element.siblings("."+t.panel).length;r?this._open&&(this._wrapper.removeClass(t.contentWrapOpen),this._fixedToolbar.removeClass(t.contentFixedToolbarOpen),this._page.jqmRemoveData("panel"),this._page.removeClass(t.pagePanelOpen),i&&this._page.removeClass("ui-body-"+i).addClass(this._pageTheme)):(this._wrapper.children().unwrap(),this._page.find("a").unbind("panelopen panelclose"),this._page.removeClass(t.pagePanel),this._open&&(this._page.jqmRemoveData("panel"),this._page.removeClass(t.pagePanelOpen),i&&this._page.removeClass("ui-body-"+i).addClass(this._pageTheme),n.mobile.resetActivePageHeight())),this._pannelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),t.panelAnimate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._closeLink.off("click.panel"),this._modal&&this._modal.remove(),this.element.off(this._transitionEndEvents).removeClass([t.panelUnfixed,t.panelClosed,t.panelOpen].join(" "))}}),n(i).bind("pagecreate create",function(t){n.mobile.panel.prototype.enhanceWithin(t.target)})}(n),function(n){n.widget("mobile.table",n.mobile.widget,{options:{classes:{table:"ui-table"},initSelector:":jqmData(role='table')"},_create:function(){var t=this,i=this.element.find("thead tr");this.element.addClass(this.options.classes.table),t.headers=this.element.find("tr:eq(0)").children(),t.allHeaders=t.headers.add(i.children()),i.each(function(){var r=0;n(this).children().each(function(){var f=parseInt(n(this).attr("colspan"),10),e=":nth-child("+(r+1)+")",u;if(n(this).jqmData("colstart",r+1),f)for(u=0;u<f-1;u++)r++,e+=", :nth-child("+(r+1)+")";n(this).jqmData("cells",t.element.find("tr").not(i.eq(0)).not(this).children(e)),r++})})}}),n.mobile.document.bind("pagecreate create",function(t){n.mobile.table.prototype.enhanceWithin(t.target)})}(n),function(n){n.mobile.table.prototype.options.mode="columntoggle",n.mobile.table.prototype.options.columnBtnTheme=null,n.mobile.table.prototype.options.columnPopupTheme=null,n.mobile.table.prototype.options.columnBtnText="Columns...",n.mobile.table.prototype.options.classes=n.extend(n.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"}),n.mobile.document.delegate(":jqmData(role='table')","tablecreate",function(){var u=n(this),i=u.data("mobile-table"),t=i.options,r=n.mobile.ns;if(t.mode==="columntoggle"){i.element.addClass(t.classes.columnToggleTable);var e=(u.attr("id")||t.classes.popup)+"-popup",s=n("<a href='#"+e+"' class='"+t.classes.columnBtn+"' data-"+r+"rel='popup' data-"+r+"mini='true'>"+t.columnBtnText+"<\/a>"),o=n("<div data-"+r+"role='popup' data-"+r+"role='fieldcontain' class='"+t.classes.popup+"' id='"+e+"'><\/div>"),f=n("<fieldset data-"+r+"role='controlgroup'><\/fieldset>");i.headers.not("td").each(function(){var i=n(this).jqmData("priority"),r=n(this).add(n(this).jqmData("cells"));i&&(r.addClass(t.classes.priorityPrefix+i),n("<label><input type='checkbox' checked />"+n(this).text()+"<\/label>").appendTo(f).children(0).jqmData("cells",r).checkboxradio({theme:t.columnPopupTheme}))}),f.appendTo(o);f.on("change","input",function(){this.checked?n(this).jqmData("cells").removeClass("ui-table-cell-hidden").addClass("ui-table-cell-visible"):n(this).jqmData("cells").removeClass("ui-table-cell-visible").addClass("ui-table-cell-hidden")});s.insertBefore(u).buttonMarkup({theme:t.columnBtnTheme}),o.insertBefore(u).popup(),i.refresh=function(){f.find("input").each(function(){this.checked=n(this).jqmData("cells").eq(0).css("display")==="table-cell",n(this).checkboxradio("refresh")})};n.mobile.window.on("throttledresize",i.refresh);i.refresh()}})}(n),function(n){n.mobile.table.prototype.options.mode="reflow",n.mobile.table.prototype.options.classes=n.extend(n.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"}),n.mobile.document.delegate(":jqmData(role='table')","tablecreate",function(){var u=n(this),i=u.data("mobile-table"),t=i.options,r;t.mode==="reflow"&&(i.element.addClass(t.classes.reflowTable),r=n(i.allHeaders.get().reverse()),r.each(function(){var i=n(this).jqmData("cells"),o=n(this).jqmData("colstart"),e=i.not(this).filter("thead th").length&&" ui-table-cell-label-top",r=n(this).text(),u,f;r!==""&&(e?(u=parseInt(n(this).attr("colspan"),10),f="",u&&(f="td:nth-child("+u+"n + "+o+")"),i.filter(f).prepend("<b class='"+t.classes.cellLabels+e+"'>"+r+"<\/b>")):i.prepend("<b class='"+t.classes.cellLabels+"'>"+r+"<\/b>"))}))})}(n),function(n){var t=n("meta[name=viewport]"),i=t.attr("content"),u=i+",maximum-scale=1, user-scalable=no",f=i+",maximum-scale=10, user-scalable=yes",r=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(i);n.mobile.zoom=n.extend({},{enabled:!r,locked:!1,disable:function(i){r||n.mobile.zoom.locked||(t.attr("content",u),n.mobile.zoom.enabled=!1,n.mobile.zoom.locked=i||!1)},enable:function(i){r||n.mobile.zoom.locked&&i!==!0||(t.attr("content",f),n.mobile.zoom.enabled=!0,n.mobile.zoom.locked=!1)},restore:function(){r||(t.attr("content",i),n.mobile.zoom.enabled=!0)}})}(n),function(n){n.widget("mobile.textinput",n.mobile.widget,{options:{theme:null,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type]), input[type='file']",clearBtn:!1,clearSearchButtonText:null,clearBtnText:"clear text",disabled:!1},_create:function(){function l(){setTimeout(function(){o.toggleClass("ui-input-clear-hidden",!t.val())},0)}var p=this,t=this.element,i=this.options,s=i.theme||n.mobile.getInheritedTheme(this.element,"c"),f=" ui-body-"+s,e=i.mini?" ui-mini":"",u=t.is("[type='search'], :jqmData(type='search')"),r,o,h=i.clearSearchButtonText||i.clearBtnText,w=t.is("textarea, :jqmData(type='range')"),b=!!i.clearBtn&&!w,c=t.is("input")&&!t.is(":jqmData(type='range')"),a,v,y;if(n("label[for='"+t.attr("id")+"']").addClass("ui-input-text"),r=t.addClass("ui-input-text ui-body-"+s),typeof t[0].autocorrect=="undefined"||n.support.touchOverflow||(t[0].setAttribute("autocorrect","off"),t[0].setAttribute("autocomplete","off")),u?r=t.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+f+e+"'><\/div>").parent():c&&(r=t.wrap("<div class='ui-input-text ui-shadow-inset ui-corner-all ui-btn-shadow"+f+e+"'><\/div>").parent()),b||u?(o=n("<a href='#' class='ui-input-clear' title='"+h+"'>"+h+"<\/a>").bind("click",function(n){t.val("").focus().trigger("change"),o.addClass("ui-input-clear-hidden"),n.preventDefault()}).appendTo(r).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0,mini:i.mini}),u||r.addClass("ui-input-has-clear"),l(),t.bind("paste cut keyup input focus change blur",l)):c||u||t.addClass("ui-corner-all ui-shadow-inset"+f+e),t.focus(function(){i.preventFocusZoom&&n.mobile.zoom.disable(!0),r.addClass(n.mobile.focusClass)}).blur(function(){r.removeClass(n.mobile.focusClass),i.preventFocusZoom&&n.mobile.zoom.enable(!0)}),t.is("textarea")){a=15,v=100,this._keyup=function(){var n=t[0].scrollHeight,i=t[0].clientHeight;i<n&&t.height(n+a)};t.on("keyup change input paste",function(){clearTimeout(y),y=setTimeout(p._keyup,v)});this._on(n.mobile.document,{pagechange:"_keyup"}),n.trim(t.val())&&this._on(n.mobile.window,{load:"_keyup"})}t.attr("disabled")&&this.disable()},disable:function(){var n,t=this.element.is("[type='search'], :jqmData(type='search')"),i=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),r=this.element.attr("disabled",!0)&&(i||t);return n=r?this.element.parent():this.element,n.addClass("ui-disabled"),this._setOption("disabled",!0)},enable:function(){var n,t=this.element.is("[type='search'], :jqmData(type='search')"),i=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),r=this.element.attr("disabled",!1)&&(i||t);return n=r?this.element.parent():this.element,n.removeClass("ui-disabled"),this._setOption("disabled",!1)}}),n.mobile.document.bind("pagecreate create",function(t){n.mobile.textinput.prototype.enhanceWithin(t.target,!0)})}(n),function(n){n.mobile.listview.prototype.options.filter=!1,n.mobile.listview.prototype.options.filterPlaceholder="Filter items...",n.mobile.listview.prototype.options.filterTheme="c",n.mobile.listview.prototype.options.filterReveal=!1;var t=function(n,t){return n.toString().toLowerCase().indexOf(t)===-1};n.mobile.listview.prototype.options.filterCallback=t,n.mobile.document.delegate("ul, ol","listviewcreate",function(){var r=n(this),i=r.data("mobile-listview");if(i.options.filter){i.options.filterReveal&&r.children().addClass("ui-screen-hidden");var u=n("<form>",{"class":"ui-listview-filter ui-bar-"+i.options.filterTheme,role:"search"}).submit(function(n){n.preventDefault(),e.blur()}),f=function(){var c=n(this),e=this.value.toLowerCase(),u=null,l=r.children(),o=c.jqmData("lastval")+"",h=!1,a="",f,v=i.options.filterCallback!==t,s;if(!o||o!==e){if(i._trigger("beforefilter","beforefilter",{input:this}),c.jqmData("lastval",e),v||e.length<o.length||e.indexOf(o)!==0?u=r.children():(u=r.children(":not(.ui-screen-hidden)"),!u.length&&i.options.filterReveal&&(u=r.children(".ui-screen-hidden"))),e){for(s=u.length-1;s>=0;s--)f=n(u[s]),a=f.jqmData("filtertext")||f.text(),f.is("li:jqmData(role=list-divider)")?(f.toggleClass("ui-filter-hidequeue",!h),h=!1):i.options.filterCallback(a,e,f)?f.toggleClass("ui-filter-hidequeue",!0):h=!0;u.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),u.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else u.toggleClass("ui-screen-hidden",!!i.options.filterReveal);i._addFirstLastClasses(l,i._getVisibles(l,!1),!1)}},e=n("<input>",{placeholder:i.options.filterPlaceholder}).attr("data-"+n.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change input",f).appendTo(u).textinput();i.options.inset&&u.addClass("ui-listview-filter-inset"),u.bind("submit",function(){return!1}).insertBefore(r)}})}(n),function(n,r){n.widget("mobile.slider",n.mobile.widget,{widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1,highlight:!1},_create:function(){var ut=this,u=this.element,y=n.mobile.getInheritedTheme(u,"c"),ft=this.options.theme||y,p=this.options.trackTheme||y,w=u[0].nodeName.toLowerCase(),vt=this.isToggleSwitch=w==="select",b=u.parent().is(":jqmData(role='rangeslider')"),et=this.isToggleSwitch?"ui-slider-switch":"",k=u.attr("id"),d=n("[for='"+k+"']"),g=d.attr("id")||k+"-label",ot=d.attr("id",g),nt=this.isToggleSwitch?0:parseFloat(u.attr("min")),tt=this.isToggleSwitch?u.find("option").length-1:parseFloat(u.attr("max")),st=t.parseFloat(u.attr("step")||1),ht=this.options.mini||u.jqmData("mini")?" ui-mini":"",h=i.createElement("a"),a=n(h),e=i.createElement("div"),f=n(e),ct=this.options.highlight&&!this.isToggleSwitch?function(){var t=i.createElement("div");return t.className="ui-slider-bg "+n.mobile.activeBtnClass+" ui-btn-corner-all",n(t).prependTo(f)}():!1,v,c,it,s,rt,o;if(h.setAttribute("href","#"),e.setAttribute("role","application"),e.className=[this.isToggleSwitch?"ui-slider ":"ui-slider-track ",et," ui-btn-down-",p," ui-btn-corner-all",ht].join(""),h.className="ui-slider-handle",e.appendChild(h),a.buttonMarkup({corners:!0,theme:ft,shadow:!0}).attr({role:"slider","aria-valuemin":nt,"aria-valuemax":tt,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":g}),n.extend(this,{slider:f,handle:a,type:w,step:st,max:tt,min:nt,valuebg:ct,isRangeslider:b,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),this.isToggleSwitch){for(o=i.createElement("div"),o.className="ui-slider-inneroffset",c=0,it=e.childNodes.length;c<it;c++)o.appendChild(e.childNodes[c]);for(e.appendChild(o),a.addClass("ui-slider-handle-snapping"),v=u.find("option"),s=0,rt=v.length;s<rt;s++){var lt=s?"a":"b",at=s?" "+n.mobile.activeBtnClass:" ui-btn-down-"+p,yt=i.createElement("div"),l=i.createElement("span");l.className=["ui-slider-label ui-slider-label-",lt,at," ui-btn-corner-all"].join(""),l.setAttribute("role","img"),l.appendChild(i.createTextNode(v[s].innerHTML)),n(l).prependTo(f)}ut._labels=n(".ui-slider-label",f)}ot.addClass("ui-slider"),u.addClass(this.isToggleSwitch?"ui-slider-switch":"ui-slider-input"),this._on(u,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),f.bind("vmousedown",n.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(i,{vmousemove:"_preventDocumentDrag"}),this._on(f.add(i),{vmouseup:"_sliderVMouseUp"}),f.insertAfter(u),this.isToggleSwitch||b||(o=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",u.add(f).wrapAll(o)),this.isToggleSwitch&&this.handle.bind({focus:function(){f.addClass(n.mobile.focusClass)},blur:function(){f.removeClass(n.mobile.focusClass)}}),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset&&this._handleFormReset(),this.refresh(r,r,!0)},_controlChange:function(n){if(this._trigger("controlchange",n)===!1)return!1;this.mouseMoved||this.refresh(this._value(),!0)},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(t){var i=this._value();if(!this.options.disabled){switch(t.keyCode){case n.mobile.keyCode.HOME:case n.mobile.keyCode.END:case n.mobile.keyCode.PAGE_UP:case n.mobile.keyCode.PAGE_DOWN:case n.mobile.keyCode.UP:case n.mobile.keyCode.RIGHT:case n.mobile.keyCode.DOWN:case n.mobile.keyCode.LEFT:t.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(t.keyCode){case n.mobile.keyCode.HOME:this.refresh(this.min);break;case n.mobile.keyCode.END:this.refresh(this.max);break;case n.mobile.keyCode.PAGE_UP:case n.mobile.keyCode.UP:case n.mobile.keyCode.RIGHT:this.refresh(i+this.step);break;case n.mobile.keyCode.PAGE_DOWN:case n.mobile.keyCode.DOWN:case n.mobile.keyCode.LEFT:this.refresh(i-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(n){return this.options.disabled?!1:this._trigger("beforestart",n)===!1?!1:(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(n),this._trigger("start"),!1)},_sliderVMouseUp:function(){if(this.dragging)return this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.mouseMoved?this.userModified?this.refresh(this.beforeStart===0?1:0):this.refresh(this.beforeStart):this.refresh(this.beforeStart===0?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1},_preventDocumentDrag:function(n){return this._trigger("drag",n)===!1?!1:this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(n),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0},_checkedRefresh:function(){this.value!=this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(r,!1,!0)},refresh:function(t,r,u){var nt=this,tt=n.mobile.getInheritedTheme(this.element,"c"),ft=this.options.theme||tt,et=this.options.trackTheme||tt,y,a,p,k,rt,b;nt.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch":"ui-slider-track"," ui-btn-down-"+et," ui-btn-corner-all",this.options.mini?" ui-mini":""].join(""),(this.options.disabled||this.element.attr("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&this.slider.find(".ui-slider-bg").length===0&&(this.valuebg=function(){var t=i.createElement("div");return t.className="ui-slider-bg "+n.mobile.activeBtnClass+" ui-btn-corner-all",n(t).prependTo(nt.slider)}()),this.handle.buttonMarkup({corners:!0,theme:ft,shadow:!0});var v,e,o=this.element,h=!this.isToggleSwitch,w=h?[]:o.find("option"),s=h?parseFloat(o.attr("min")):0,l=h?parseFloat(o.attr("max")):w.length-1,c=h&&parseFloat(o.attr("step"))>0?parseFloat(o.attr("step")):1;if(typeof t=="object"){if(p=t,k=8,y=this.slider.offset().left,a=this.slider.width(),v=a/((l-s)/c),!this.dragging||p.pageX<y-k||p.pageX>y+a+k)return;e=v>1?(p.pageX-y)/a*100:Math.round((p.pageX-y)/a*100)}else t==null&&(t=h?parseFloat(o.val()||0):o[0].selectedIndex),e=(parseFloat(t)-s)/(l-s)*100;if(!isNaN(e)){var f=e/100*(l-s)+s,d=(f-s)%c,it=f-d;if(Math.abs(d)*2>=c&&(it+=d>0?c:-c),rt=100/((l-s)/c),f=parseFloat(it.toFixed(5)),typeof v=="undefined"&&(v=a/((l-s)/c)),v>1&&h&&(e=(f-s)*rt*(1/c)),e<0&&(e=0),e>100&&(e=100),f<s&&(f=s),f>l&&(f=l),this.handle.css("left",e+"%"),this.handle[0].setAttribute("aria-valuenow",h?f:w.eq(f).attr("value")),this.handle[0].setAttribute("aria-valuetext",h?f:w.eq(f).getEncodedText()),this.handle[0].setAttribute("title",h?f:w.eq(f).getEncodedText()),this.valuebg&&this.valuebg.css("width",e+"%"),this._labels){var g=this.handle.width()/this.slider.width()*100,ut=e&&g+(100-g)*e/100,ot=e===100?0:Math.min(g+100-ut,100);this._labels.each(function(){var t=n(this).is(".ui-slider-label-a");n(this).width((t?ut:ot)+"%")})}if(!u){if(b=!1,h?(b=o.val()!==f,o.val(f)):(b=o[0].selectedIndex!==f,o[0].selectedIndex=f),this._trigger("beforechange",t)===!1)return!1;!r&&b&&o.trigger("change")}}},enable:function(){return this.element.attr("disabled",!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}}),n.widget("mobile.slider",n.mobile.slider,n.mobile.behaviors.formReset),n.mobile.document.bind("pagecreate create",function(t){n.mobile.slider.prototype.enhanceWithin(t.target,!0)})}(n),function(n){n.widget("mobile.rangeslider",n.mobile.widget,{options:{theme:null,trackTheme:null,disabled:!1,initSelector:":jqmData(role='rangeslider')",mini:!1,highlight:!0},_create:function(){var s,t=this.element,h=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",i=t.find("input").first(),r=t.find("input").last(),c=t.find("label").first(),e=n.data(i.get(0),"mobileSlider").slider,u=n.data(r.get(0),"mobileSlider").slider,o=n.data(i.get(0),"mobileSlider").handle,f=n('<div class="ui-rangeslider-sliders" />').appendTo(t);t.find("label").length>1&&(s=t.find("label").last().hide()),i.addClass("ui-rangeslider-first"),r.addClass("ui-rangeslider-last"),t.addClass(h),e.appendTo(f),u.appendTo(f),c.prependTo(t),o.prependTo(u),n.extend(this,{_inputFirst:i,_inputLast:r,_sliderFirst:e,_sliderLast:u,_targetVal:null,_sliderTarget:!1,_sliders:f,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on(o,{vmousedown:"_dragFirstHandle"})},_dragFirstHandle:function(t){return n.data(this._inputFirst.get(0),"mobileSlider").dragging=!0,n.data(this._inputFirst.get(0),"mobileSlider").refresh(t),!1},_slidedrag:function(t){var i=n(t.target).is(this._inputFirst),r=i?this._inputLast:this._inputFirst;return this._sliderTarget=!1,this._proxy==="first"&&i||this._proxy==="last"&&!i?(n.data(r.get(0),"mobileSlider").dragging=!0,n.data(r.get(0),"mobileSlider").refresh(t),!1):void 0},_slidestop:function(t){var i=n(t.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",i?1:"")},_slidebeforestart:function(t){this._sliderTarget=!1,n(t.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=n(t.target).val())},_setOption:function(n){this._superApply(n),this.refresh()},refresh:function(){var t=this.element,n=this.options;t.find("input").slider({theme:n.theme,trackTheme:n.trackTheme,disabled:n.disabled,mini:n.mini,highlight:n.highlight}).slider("refresh"),this._updateHighlight()},_change:function(t){var o;if(t.type=="keyup")return this._updateHighlight(),!1;var i=parseFloat(this._inputFirst.val(),10),r=parseFloat(this._inputLast.val(),10),u=n(t.target).hasClass("ui-rangeslider-first"),f=u?this._inputFirst:this._inputLast,e=u?this._inputLast:this._inputFirst;return i>r&&!this._sliderTarget?(f.val(u?r:i).slider("refresh"),this._trigger("normalize")):i>r&&(f.val(this._targetVal).slider("refresh"),o=this,setTimeout(function(){e.val(u?i:r).slider("refresh"),n.data(e.get(0),"mobileSlider").handle.focus(),o._sliderFirst.css("z-index",u?"":1),o._trigger("normalize")},0),this._proxy=u?"first":"last"),i===r?(n.data(f.get(0),"mobileSlider").handle.css("z-index",1),n.data(e.get(0),"mobileSlider").handle.css("z-index",0)):(n.data(e.get(0),"mobileSlider").handle.css("z-index",""),n.data(f.get(0),"mobileSlider").handle.css("z-index","")),this._updateHighlight(),i>=r?!1:void 0},_updateHighlight:function(){var t=parseInt(n.data(this._inputFirst.get(0),"mobileSlider").handle.get(0).style.left,10),i=parseInt(n.data(this._inputLast.get(0),"mobileSlider").handle.get(0).style.left,10),r=i-t;this.element.find(".ui-slider-bg").css({"margin-left":t+"%",width:r+"%"})},_destroy:function(){this.element.removeClass("ui-rangeslider ui-mini").find("label").show(),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}}),n.widget("mobile.rangeslider",n.mobile.rangeslider,n.mobile.behaviors.formReset),n(i).bind("pagecreate create",function(t){n.mobile.rangeslider.prototype.enhanceWithin(t.target,!0)})}(n),function(n){n.widget("mobile.selectmenu",n.mobile.widget,{options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!0,overlayTheme:"a",dividerTheme:"b",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not( :jqmData(role='slider') )",mini:!1},_button:function(){return n("<div/>")},_setDisabled:function(n){return this.element.attr("disabled",n),this.button.attr("aria-disabled",n),this._setOption("disabled",n)},_focusButton:function(){var n=this;setTimeout(function(){n.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var t="";!~this.element[0].className.indexOf("ui-btn-left")||(t=" ui-btn-left"),!~this.element[0].className.indexOf("ui-btn-right")||(t=" ui-btn-right"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+t+"'>"),this.selectID=this.select.attr("id"),this.label=n("label[for='"+this.selectID+"']").addClass("ui-select"),this.isMultiple=this.select[0].multiple,this.options.theme||(this.options.theme=n.mobile.getInheritedTheme(this.select,"c"))},_destroy:function(){var n=this.element.parents(".ui-select");n.length>0&&(n.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(n.is(".ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(n),n.remove())},_create:function(){this._preExtension(),this._trigger("beforeCreate"),this.button=this._button();var u=this,i=this.options,f=i.inline||this.select.jqmData("inline"),e=i.mini||this.select.jqmData("mini"),o=i.icon?i.iconpos||this.select.jqmData("iconpos"):!1,s=this.select[0].selectedIndex===-1?0:this.select[0].selectedIndex,r=this.button.insertBefore(this.select).buttonMarkup({theme:i.theme,icon:i.icon,iconpos:o,inline:f,corners:i.corners,shadow:i.shadow,iconshadow:i.iconshadow,mini:e});this.setButtonText(),i.nativeMenu&&t.opera&&t.opera.version&&r.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=n("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(r.addClass("ui-li-has-count"))),(i.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){u.refresh()}),this._handleFormReset&&this._handleFormReset(),this.build()},build:function(){var t=this;this.select.appendTo(t.button).bind("vmousedown",function(){t.button.addClass(n.mobile.activeBtnClass)}).bind("focus",function(){t.button.addClass(n.mobile.focusClass)}).bind("blur",function(){t.button.removeClass(n.mobile.focusClass)}).bind("focus vmouseover",function(){t.button.trigger("vmouseover")}).bind("vmousemove",function(){t.button.removeClass(n.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){t.button.trigger("vmouseout").removeClass(n.mobile.activeBtnClass)}).bind("change blur",function(){t.button.removeClass("ui-btn-down-"+t.options.theme)}),t.button.bind("vmousedown",function(){t.options.preventFocusZoom&&n.mobile.zoom.disable(!0)}),t.label.bind("click focus",function(){t.options.preventFocusZoom&&n.mobile.zoom.disable(!0)}),t.select.bind("focus",function(){t.options.preventFocusZoom&&n.mobile.zoom.disable(!0)}),t.button.bind("mouseup",function(){t.options.preventFocusZoom&&setTimeout(function(){n.mobile.zoom.enable(!0)},0)}),t.select.bind("blur",function(){t.options.preventFocusZoom&&n.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var n=this;return this.selected().map(function(){return n._selectOptions().index(this)}).get()},setButtonText:function(){var u=this,t=this.selected(),r=this.placeholder,f=n(i.createElement("span"));this.button.find(".ui-btn-text").html(function(){return r=t.length?t.map(function(){return n(this).text()}).get().join(", "):u.placeholder,f.text(r).addClass(u.select.attr("class")).addClass(t.attr("class"))})},setButtonCount:function(){var n=this.selected();this.isMultiple&&this.buttonCount[n.length>1?"show":"hide"]().text(n.length)},_reset:function(){this.refresh()},refresh:function(){this.setButtonText(),this.setButtonCount()},open:n.noop,close:n.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-disabled")}}),n.widget("mobile.selectmenu",n.mobile.selectmenu,n.mobile.behaviors.formReset),n.mobile.document.bind("pagecreate create",function(t){n.mobile.selectmenu.prototype.enhanceWithin(t.target,!0)})}(n),function(n,t){var r=function(r){var it=r.select,p=r._destroy,u=r.selectID,s=u?u:(n.mobile.ns||"")+"uuid-"+r.uuid,h=s+"-listbox",c=s+"-dialog",l=r.label,w=r.select.closest(".ui-page"),b=r._selectOptions(),k=r.isMultiple=r.select[0].multiple,a=u+"-button",v=u+"-menu",f=n("<div data-"+n.mobile.ns+"role='dialog' id='"+c+"' data-"+n.mobile.ns+"theme='"+r.options.theme+"' data-"+n.mobile.ns+"overlay-theme='"+r.options.overlayTheme+"'><div data-"+n.mobile.ns+"role='header'><div class='ui-title'>"+l.getEncodedText()+"<\/div><\/div><div data-"+n.mobile.ns+"role='content'><\/div><\/div>"),e=n("<div id='"+h+"' class='ui-selectmenu'>").insertAfter(r.select).popup({theme:r.options.overlayTheme}),d=n("<ul>",{"class":"ui-selectmenu-list",id:v,role:"listbox","aria-labelledby":a}).attr("data-"+n.mobile.ns+"theme",r.options.theme).attr("data-"+n.mobile.ns+"divider-theme",r.options.dividerTheme).appendTo(e),o=n("<div>",{"class":"ui-header ui-bar-"+r.options.theme}).prependTo(e),g=n("<h1>",{"class":"ui-title"}).appendTo(o),nt,tt,y;r.isMultiple&&(y=n("<a>",{text:r.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+n.mobile.ns+"iconpos","notext").attr("data-"+n.mobile.ns+"icon","delete").appendTo(o).buttonMarkup()),n.extend(r,{select:r.select,selectID:u,buttonId:a,menuId:v,popupID:h,dialogID:c,thisPage:w,menuPage:f,label:l,selectOptions:b,isMultiple:k,theme:r.options.theme,listbox:e,list:d,header:o,headerTitle:g,headerClose:y,menuPageContent:nt,menuPageClose:tt,placeholder:"",build:function(){var i=this;i.refresh(),i._origTabIndex===t&&(i._origTabIndex=i.select[0].getAttribute("tabindex")===null?!1:i.select.attr("tabindex")),i.select.attr("tabindex","-1").focus(function(){n(this).blur(),i.button.focus()}),i.button.bind("vclick keydown",function(t){i.options.disabled||i.isOpen||(t.type==="vclick"||t.keyCode&&(t.keyCode===n.mobile.keyCode.ENTER||t.keyCode===n.mobile.keyCode.SPACE))&&(i._decideFormat(),i.menuType==="overlay"?i.button.attr("href","#"+i.popupID).attr("data-"+(n.mobile.ns||"")+"rel","popup"):i.button.attr("href","#"+i.dialogID).attr("data-"+(n.mobile.ns||"")+"rel","dialog"),i.isOpen=!0)}),i.list.attr("role","listbox").bind("focusin",function(t){n(t.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(t){n(t.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(t){var e=i.select[0].selectedIndex,f=i.list.find("li:not(.ui-li-divider)").index(this),u=i._selectOptions().eq(f)[0];u.selected=i.isMultiple?!u.selected:!0,i.isMultiple&&n(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",u.selected).toggleClass("ui-icon-checkbox-off",!u.selected),(i.isMultiple||e!==f)&&i.select.trigger("change"),i.isMultiple?i.list.find("li:not(.ui-li-divider)").eq(f).addClass("ui-btn-down-"+r.options.theme).find("a").first().focus():i.close(),t.preventDefault()}).keydown(function(t){var f=n(t.target),e=f.closest("li"),i,u;switch(t.keyCode){case 38:return i=e.prev().not(".ui-selectmenu-placeholder"),i.is(".ui-li-divider")&&(i=i.prev()),i.length&&(f.blur().attr("tabindex","-1"),i.addClass("ui-btn-down-"+r.options.theme).find("a").first().focus()),!1;case 40:return u=e.next(),u.is(".ui-li-divider")&&(u=u.next()),u.length&&(f.blur().attr("tabindex","-1"),u.addClass("ui-btn-down-"+r.options.theme).find("a").first().focus()),!1;case 13:case 32:return f.trigger("click"),!1}}),i.menuPage.bind("pagehide",function(){n.mobile._bindPageRemove.call(i.thisPage)}),i.listbox.bind("popupafterclose",function(){i.close()}),i.isMultiple&&i.headerClose.click(function(){if(i.menuType==="overlay")return i.close(),!1}),i.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var n=this.list.find("li"),t=this._selectOptions();return t.text()!==n.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(t){var i=this,u=this.element,f=this.isMultiple,r;(t||this._isRebuildRequired())&&i._buildList(),r=this.selectedIndices(),i.setButtonText(),i.setButtonCount(),i.list.find("li:not(.ui-li-divider)").removeClass(n.mobile.activeBtnClass).attr("aria-selected",!1).each(function(t){if(n.inArray(t,r)>-1){var u=n(this);u.attr("aria-selected",!0),i.isMultiple?u.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):u.is(".ui-selectmenu-placeholder")?u.next().addClass(n.mobile.activeBtnClass):u.addClass(n.mobile.activeBtnClass)}})},close:function(){if(!this.options.disabled&&this.isOpen){var n=this;n.menuType==="page"?(n.menuPage.dialog("close"),n.list.appendTo(n.listbox)):n.listbox.popup("close"),n._focusButton(),n.isOpen=!1}},open:function(){this.button.click()},_decideFormat:function(){function s(){var i=t.list.find("."+n.mobile.activeBtnClass+" a");i.length===0&&(i=t.list.find("li.ui-btn:not( :jqmData(placeholder='true') ) a")),i.first().focus().closest("li").addClass("ui-btn-down-"+r.options.theme)}var t=this,i=n.mobile.window,u=t.list.parent(),h=u.outerHeight(),l=u.outerWidth(),a=n("."+n.mobile.activePageClass),c=i.scrollTop(),e=t.button.offset().top,o=i.height(),v=i.width();if(h>o-80||!n.support.scrollTop){if(t.menuPage.appendTo(n.mobile.pageContainer).page(),t.menuPageContent=f.find(".ui-content"),t.menuPageClose=f.find(".ui-header a"),t.thisPage.unbind("pagehide.remove"),c===0&&e>o)t.thisPage.one("pagehide",function(){n(this).jqmData("lastScroll",e)});t.menuPage.one("pageshow",function(){s()}).one("pagehide",function(){t.close()});t.menuType="page",t.menuPageContent.append(t.list),t.menuPage.find("div .ui-title").text(t.label.text())}else{t.menuType="overlay";t.listbox.one("popupafteropen",s)}},_buildList:function(){var r=this,nt=this.options,l=this.placeholder,b=!0,tt=r.isMultiple?"checkbox-off":"false",e,c,f,t;r.list.empty().filter(".ui-listview").listview("destroy");var k=r.select.find("option"),it=k.length,rt=this.select[0],o="data-"+n.mobile.ns,ut=o+"option-index",ft=o+"icon",et=o+"role",a=o+"placeholder",v=i.createDocumentFragment(),y=!1,d;for(e=0;e<it;e++,y=!1){var u=k[e],g=n(u),p=u.parentNode,s=g.text(),h=i.createElement("a"),w=[];h.setAttribute("href","#"),h.appendChild(i.createTextNode(s)),p!==rt&&p.nodeName.toLowerCase()==="optgroup"&&(c=p.getAttribute("label"),c!==d&&(f=i.createElement("li"),f.setAttribute(et,"list-divider"),f.setAttribute("role","option"),f.setAttribute("tabindex","-1"),f.appendChild(i.createTextNode(c)),v.appendChild(f),d=c)),b&&(!u.getAttribute("value")||s.length===0||g.jqmData("placeholder"))&&(b=!1,y=!0,null===u.getAttribute(a)&&(this._removePlaceholderAttr=!0),u.setAttribute(a,!0),nt.hidePlaceholderMenuItems&&w.push("ui-selectmenu-placeholder"),l!==s&&(l=r.placeholder=s)),t=i.createElement("li"),u.disabled&&(w.push("ui-disabled"),t.setAttribute("aria-disabled",!0)),t.setAttribute(ut,e),t.setAttribute(ft,tt),y&&t.setAttribute(a,!0),t.className=w.join(" "),t.setAttribute("role","option"),h.setAttribute("tabindex","-1"),t.appendChild(h),v.appendChild(t)}r.list[0].appendChild(v),this.isMultiple||l.length?this.headerTitle.text(this.placeholder):this.header.hide(),r.list.listview()},_button:function(){return n("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.close(),this._origTabIndex!==t&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+n.mobile.ns+"placeholder"),this.listbox.remove(),p.apply(this,arguments)}})};n.mobile.document.bind("selectmenubeforecreate",function(t){var i=n(t.target).data("mobile-selectmenu");i.options.nativeMenu||i.element.parents(":jqmData(role='popup')").length!==0||r(i)})}(n),function(n){n.widget("mobile.fixedtoolbar",n.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!n.support.fixedPosition},initSelector:":jqmData(position='fixed')"},_create:function(){var t=this,u=t.options,i=t.element,r=i.is(":jqmData(role='header')")?"header":"footer",f=i.closest(".ui-page");if(u.supportBlacklist()){t.destroy();return}i.addClass("ui-"+r+"-fixed"),u.fullscreen?(i.addClass("ui-"+r+"-fullscreen"),f.addClass("ui-page-"+r+"-fullscreen")):f.addClass("ui-page-"+r+"-fixed"),n.extend(this,{_thisPage:null}),t._addTransitionClass(),t._bindPageEvents(),t._bindToggleHandlers()},_addTransitionClass:function(){var n=this.options.transition;n&&n!=="none"&&(n==="slide"&&(n=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(n))},_bindPageEvents:function(){this._thisPage=this.element.closest(".ui-page"),this._on(this._thisPage,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var t=this.options;t.disablePageZoom&&n.mobile.zoom.disable(!0),t.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this._thisPage)},_handlePageShow:function(){this.updatePagePadding(this._thisPage),this.options.updatePagePadding&&this._on(n.mobile.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(t,i){var r=this.options;if(r.disablePageZoom&&n.mobile.zoom.enable(!0),r.updatePagePadding&&this._off(n.mobile.window,"throttledresize"),r.trackPersistentToolbars){var e=n(".ui-footer-fixed:jqmData(id)",this._thisPage),o=n(".ui-header-fixed:jqmData(id)",this._thisPage),u=e.length&&i.nextPage&&n(".ui-footer-fixed:jqmData(id='"+e.jqmData("id")+"')",i.nextPage)||n(),f=o.length&&i.nextPage&&n(".ui-header-fixed:jqmData(id='"+o.jqmData("id")+"')",i.nextPage)||n();if(u.length||f.length){u.add(f).appendTo(n.mobile.pageContainer);i.nextPage.one("pageshow",function(){f.prependTo(this),u.appendTo(this)})}}},_visible:!0,updatePagePadding:function(t){var i=this.element,r=i.is(".ui-header"),u=parseFloat(i.css(r?"top":"bottom"));this.options.fullscreen||(t=t||this._thisPage||i.closest(".ui-page"),n(t).css("padding-"+(r?"top":"bottom"),i.outerHeight()+u))},_useTransition:function(t){var e=n.mobile.window,i=this.element,r=e.scrollTop(),u=i.height(),o=i.closest(".ui-page").height(),s=n.mobile.getScreenHeight(),f=i.is(":jqmData(role='header')")?"header":"footer";return!t&&(this.options.transition&&this.options.transition!=="none"&&(f==="header"&&!this.options.fullscreen&&r>u||f==="footer"&&!this.options.fullscreen&&r+s<o-u)||this.options.fullscreen)},show:function(n){var i="ui-fixed-hidden",t=this.element;this._useTransition(n)?t.removeClass("out "+i).addClass("in").animationComplete(function(){t.removeClass("in")}):t.removeClass(i),this._visible=!0},hide:function(n){var r="ui-fixed-hidden",t=this.element,i="out"+(this.options.transition==="slide"?" reverse":"");this._useTransition(n)?t.addClass(i).removeClass("in").animationComplete(function(){t.addClass(r).removeClass(i)}):t.addClass(r).removeClass(i),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var t=this,r,i=t.options,u=t.element;u.closest(".ui-page").bind("vclick",function(r){i.tapToggle&&!n(r.target).closest(i.tapToggleBlacklist).length&&t.toggle()}).bind("focusin focusout",function(u){screen.width<1025&&n(u.target).is(i.hideDuringFocus)&&!n(u.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&(u.type!=="focusout"||t._visible?u.type==="focusin"&&t._visible&&(clearTimeout(r),t.hide()):r=setTimeout(function(){t.show()},0))})},_destroy:function(){var n=this.element,t=n.is(".ui-header");n.closest(".ui-page").css("padding-"+(t?"top":"bottom"),""),n.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden"),n.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}}),n.mobile.document.bind("pagecreate create",function(t){n(t.target).jqmData("fullscreen")&&n(n.mobile.fixedtoolbar.prototype.options.initSelector,t.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0),n.mobile.fixedtoolbar.prototype.enhanceWithin(t.target)})}(n),function(n){n.widget("mobile.fixedtoolbar",n.mobile.fixedtoolbar,{_create:function(){this._super(),this._workarounds()},_workarounds:function(){var r=navigator.userAgent,t=navigator.platform,u=r.match(/AppleWebKit\/([0-9]+)/),f=!!u&&u[1],n=null,i=this;if(t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1||t.indexOf("iPod")>-1)n="ios";else if(r.indexOf("Android")>-1)n="android";else return;if(n==="ios")i._bindScrollWorkaround();else if(n==="android"&&f&&f<534)i._bindScrollWorkaround(),i._bindListThumbWorkaround();else return},_viewportOffset:function(){var t=this.element,r=t.is(".ui-header"),i=Math.abs(t.offset().top-n.mobile.window.scrollTop());return r||(i=Math.round(i-n.mobile.window.height()+t.outerHeight())-60),i},_bindScrollWorkaround:function(){var t=this;this._on(n.mobile.window,{scrollstop:function(){var n=t._viewportOffset();n>2&&t._visible&&t._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var t=parseFloat(n(".ui-page-active").css("padding-bottom"));n(".ui-page-active").css("padding-bottom",t+1+"px"),setTimeout(function(){n(".ui-page-active").css("padding-bottom",t+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(n),function(n,t){function h(n){s=n.originalEvent,r=s.accelerationIncludingGravity,f=Math.abs(r.x),e=Math.abs(r.y),o=Math.abs(r.z),!t.orientation&&(f>7||(o>6&&e<8||o<8&&e>6)&&f>5)?i.enabled&&i.disable():i.enabled||i.enable()}var u,i,s,f,e,o,r;if(n.mobile.iosorientationfixEnabled=!0,u=navigator.userAgent,!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(u)&&u.indexOf("AppleWebKit")>-1)){n.mobile.iosorientationfixEnabled=!1;return}i=n.mobile.zoom;n.mobile.document.on("mobileinit",function(){n.mobile.iosorientationfixEnabled&&n.mobile.window.bind("orientationchange.iosorientationfix",i.enable).bind("devicemotion.iosorientationfix",h)})}(n,this),function(n,t){function f(){u.removeClass("ui-mobile-rendering")}var u=n("html"),e=n("head"),r=n.mobile.window;(n(t.document).trigger("mobileinit"),n.mobile.gradeA())&&(n.mobile.ajaxBlacklist&&(n.mobile.ajaxEnabled=!1),u.addClass("ui-mobile ui-mobile-rendering"),setTimeout(f,5e3),n.extend(n.mobile,{initializePage:function(){var t=n.mobile.path,u=n(":jqmData(role='page'), :jqmData(role='dialog')"),e=t.stripHash(t.stripQueryParams(t.parseLocation().hash)),o=i.getElementById(e);u.length||(u=n("body").wrapInner("<div data-"+n.mobile.ns+"role='page'><\/div>").children(0)),u.each(function(){var t=n(this);t.jqmData("url")||t.attr("data-"+n.mobile.ns+"url",t.attr("id")||location.pathname+location.search)}),n.mobile.firstPage=u.first(),n.mobile.pageContainer=n.mobile.firstPage.parent().addClass("ui-mobile-viewport"),r.trigger("pagecontainercreate"),n.mobile.showPageLoadingMsg(),f(),n.mobile.hashListeningEnabled&&n.mobile.path.isHashValid(location.hash)&&(n(o).is(':jqmData(role="page")')||n.mobile.path.isPath(e)||e===n.mobile.dialogHashKey)?n.event.special.navigate.isPushStateEnabled()?(n.mobile.navigate.history.stack=[],n.mobile.navigate(n.mobile.path.isPath(location.hash)?location.hash:location.href)):r.trigger("hashchange",[!0]):(n.mobile.path.isHashValid(location.hash)&&(n.mobile.urlHistory.initialDst=e.replace("#","")),n.event.special.navigate.isPushStateEnabled()&&n.mobile.navigate.navigator.squash(t.parseLocation().href),n.mobile.changePage(n.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),n.mobile.navreadyDeferred.resolve(),n(function(){t.scrollTo(0,1),n.mobile.defaultHomeScroll=!n.support.scrollTop||n.mobile.window.scrollTop()===1?0:1,n.mobile.autoInitializePage&&n.mobile.initializePage(),r.load(n.mobile.silentScroll),n.support.cssPointerEvents||n.mobile.document.delegate(".ui-disabled","vclick",function(n){n.preventDefault(),n.stopImmediatePropagation()})}))}(n,this)});
//@ sourceMappingURL=jquery.mobile-1.3.0.min.js.map